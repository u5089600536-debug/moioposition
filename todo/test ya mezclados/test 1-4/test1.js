const preguntas = [
    {
        pregunta: "1. conforme al ar 86 de la CE ¿pueden las cortes generales delegar en el gobierno la potestas de dictar normas con rango de ley",
        opciones: [ "a. solamente sobre materias determinadas no sujetas a reserva de LO ", 
                    "b. si, siempre", 
                    "c. no nunca", 
                    "d. solamente cuando el gobierno disponga de mayoria absoluta en las dos camaras"],
        correcta: 0
    },{
        pregunta: "2. quien puede ser condenado o sancionado por acciones u omisiones que en el momento de cometerse no constituyan delito, falta o infraccion administrativa , segun la legislacion vigente en aquel momento",
        opciones: [ "a. todas las personas ", 
                    "b. nadie ", 
                    "c. los españoles mayores de edad", 
                    "d. los extranjeros mayores de edad"],
        correcta: 1
    },
{
        pregunta: "3. todas las personas tienen derecho al juez ordinario determinado por",
        opciones: [ "a. ley", 
                    "b. policia", 
                    "c. su abogado", 
                    "d. el TSJ"],
        correcta: 0
    },
{
        pregunta: "4. puede la admin civil interponer sanciones que impliquen privacion de libertad",
        opciones: [ "a. no", 
                    "b. si", 
                    "c. solo subsidiariamente", 
                    "d. solo ditectamente"],
        correcta: 0
    },
{
        pregunta: "5. tal y como establece la ley para la igualdad entren hombres y mujeres en su ar 16, en los nombramientos y designaciones de los cargos de responsabilidad que les corresponde realizar a los PP , estos",
        opciones: [ "a. procuraran atender a los principios de presencia equilibrada de hombres y mujeres", 
                    "b. aplicaran el principio de pariedad en la presencia de hombres y mujeres", 
                    "c. procuraran atender a los principios de presencia paritaria de hombres y mujeres", 
                    "d. aplicaran el pricipio de presencia justa de hombres y mujeres"],
        correcta: 0
    },
{
        pregunta: "6. el gobierno elaborara al principio de cada legislatura un plan para la igualdad entre M y H en la administraciones generales del estado y en los organismos publicos vinculados o dependientes de ella y su cumplimiento sera evaluado",
        opciones: [ "a. anualmente por el consejo de ministros", 
                    "b. trimestralmente por el consejo de ministros", 
                    "c. semestral por el consejo de ministros", 
                    "d. mensualmente por el consejo de ministros"],
        correcta: 0
    },
{
        pregunta: "7. los servicios rerritoriales de la admin general del estado en cada CCAA organizados como no integrados en las delegacioones del gobierno dependiente",
        opciones: [ "a. del organo central competente sobre el sector de actividad en el que aquellos operen ", 
                    "b. del delegado de gobierno", 
                    "c. del subdelegado de gobierno", 
                    "d. del consejo interterritorial"],
        correcta: 0
    },
{
        pregunta: "8. segun el ar 2 de la ley 50/97 corresponde al presidente del gobierno plantear ante el congreso de los diputados la cuestion de confianza previa",
        opciones: [ "a. deliberacion del consejo de ministros", 
                    "b. consulta al tey", 
                    "c. autorizacion del senado", 
                    "d. consulta al consejo de estado"],
        correcta: 0
    },
{
        pregunta: "9. si trascurrido el plazo de 2 meses a partir de la primera votacion de investidura, ningun candidato a la presidencia del gobierno hubiera obtenido la confianza del congreso",
        opciones: [ "a. el rey disolvera las camaras y convocara nuevas elecciones con el refrendo del presidente del congreso", 
                    "b. el presidente del gobierno saliente disolvera las camaras y convocara nuevas elecciones con el refrendo del presidente del rey", 
                    "c. el presidente del congreso disolvera las camaras y convocara nuevas elecciones con el refrendo del presidente del rey", 
                    "d. ninguna es correcta"],
        correcta: 0
    },
{
        pregunta: "10. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },


   

];

let preguntaActual = 0;
let aciertos = 0;
let fallos = 0;
let respondido = false;

function cargarPregunta() {
  const p = preguntas[preguntaActual];
  document.getElementById('pregunta').textContent = p.pregunta;

  const contenedorOpciones = document.getElementById('opciones');
  contenedorOpciones.innerHTML = '';

  p.opciones.forEach((texto, index) => {
    const div = document.createElement('div');
    div.className = 'opcion';
    div.textContent = texto;
    div.onclick = () => verificarRespuesta(div, index);
    contenedorOpciones.appendChild(div);
  });

  respondido = false;
}

function verificarRespuesta(elemento, indiceSeleccionado) {
  if (respondido) return;
  respondido = true;

  const p = preguntas[preguntaActual];
  const opciones = document.querySelectorAll('.opcion');

  opciones.forEach((op, i) => {
    if (i === p.correcta) {
      op.classList.add('correcta');
    }
    if (i === indiceSeleccionado && i !== p.correcta) {
      op.classList.add('incorrecta');
    }
  });

  if (indiceSeleccionado === p.correcta) {
    aciertos++;
    document.getElementById('aciertos').textContent = aciertos;
    agregarRegistro(`Pregunta ${preguntaActual + 1}: ✅ Acierto`, 'aciertos');
  } else {
    fallos++;
    document.getElementById('fallos').textContent = fallos;
    agregarRegistro(`Pregunta ${preguntaActual + 1}: ❌ Fallo`, 'fallos');
  }

  // Avanza a la siguiente pregunta automáticamente
  setTimeout(cargarSiguientePregunta, 1000); // espera 1 segundo
}

function agregarRegistro(texto, clase) {
  const registro = document.getElementById('registro');
  const p = document.createElement('p');
  p.textContent = texto;
  p.className = clase;
  registro.appendChild(p);
}

function cargarSiguientePregunta() {
  if (preguntaActual < preguntas.length - 1) {
    preguntaActual++;
    cargarPregunta();
  } else {
    alert("Fin del test.");
  }
}



// Inicia con la primera pregunta
cargarPregunta();