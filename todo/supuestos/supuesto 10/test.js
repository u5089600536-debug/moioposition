const preguntas = [
    {
      texto: "1. ar 505.1 puesto el detenido a tu disposicion , por ser el juzgado competente ¿que tramite procede?",
      opciones: ["A. tomar declaracion al detenido ", 

                 "B. convocar una audiencia , salvo que decretare su libertad provisional sin fianza",

                 "C. el juez resolvera sobre su situacion personal por auto inmediato",

                 "D. dar traslado al MF por si interesa su libertad sin fianza"],
      correcta: 1
    },{
      texto: "2. ar 505.1 comparecido el detenido en la oficina ¿en que casos se podra acordar la prision?",
      opciones: ["A. en los casos de peligrosidad o por el tipo delictivo", 

                 "B. a instancia del MF o las partes acusadoras",

                 "C. de oficio o a instancia de parte",

                 "D. de oficio por el juez o a instancia del MF"],
      correcta: 1
    },{
      texto: "3. 505.2 en el caso de que tengas que celebrar la audiencia , sera en el plazo de ",
      opciones: ["A. 8 horas siguiente a la puesta del detenido a disposicion judicial", 

                 "B. 48 horas siguiente a la puesta del detenido a disposicion judicial",

                 "C. 72 horas siguiente a la puesta del detenido a disposicion judicial",

                 "D. 24 horas siguiente a la puesta del detenido a disposicion judicial"],
      correcta: 2
    },{
      texto: "4. ar 505.2 que citaciones tendras que hacer en la audiencia ",
      opciones: ["A. al MF y al resto de las partes acusadas", 

                 "B. al investigado y al MF ",

                 "C. al investigado , al MF y a las demas partes personadas",

                 "D. al imputado , al MF y a los perjudicados u ofendidos , aunque no estuvieden personados"],
      correcta: 2
    },{
      texto: "5. ar 505.3 en dicha audiencia , si el MF o alguna de las partes acusadoras solicitare que se decrete la prision provisional del imputado o su libertad provisional con fianza , podran ",
      opciones: ["A. las partes personadas realizar alegaciones y proponer los medios de prueba que puedan practicarse en el acto dentro de las 72 horas siguientes a la celebracion de dicha denuncia", 

                 "B. quienes concirrieran pòdran realizar alegaciones y proponer los medios de prueba que puedan practicarse en el acto o de ntro de las 72 horas siguientes a la celebracion de dicha audiencia",

                 "C. quienes concurrieren podran realizar alegaciones y proponer los medios de prueba que puedan practicarse en el acto o dentro de las 72 horas ",

                 "D. lsd psrtes personadas realizar alegaciones y proponer los medios de prueba que puedan practicarse en el acto o dentro de 72 horas antes indicadas en el apartado anterior"],
      correcta: 2
    },{
      texto: "6. ar 505.5 cuando vas a celebrar la audiencia , al citar al letrado del investigado te dice que esta ingresado en el hospital por apendicitis , le das cuenta al juez , ¿ que puedes hacer?",
      opciones: ["A. el juez podra acordar prision preventiva y celebrar una nueva audiencia en el plazo de 72 horas", 

                 "B. la situacion del detenido sera resuelta por el juez de guardia",

                 "C. el juez podra acordar prision provisional y celebrar nueva audiencia en el plazo de 72 horas ",

                 "D. la c) es cierta , pudiencdo acordar tambien el juez la libertad provisional con fianza"],
      correcta: 3
    },{
      texto: "7. ar 506.1 terminada la audiencia , el juez te dice que hagas la resolucion de la prision , que busques el modelo en adriano ( el programa informaticio) ¿que modelo tendra que buscar?",
      opciones: ["A. un decreto ", 

                 "B. providencia si fuese libertad provisional sin fianza ",

                 "C. providencia si fuese libertad provisional sin fianza o con fianza",

                 "D. auto en todo caso"],
      correcta: 3
    },{
      texto: "8. ar 506.3 la resolucion anterior , una vez firmada ¿a quien tendra que notificarlo?",
      opciones: ["A. a las partes personadas", 

                 "B. a las partes que han concurrido a la audiencia",

                 "C. a los directamente ofendida y perjudicados por el delito cuya seguridad pudiera verse afectada por la resolucion",

                 "D. todas son correctas"],
      correcta: 3
    },{
      texto: "9. ar 607.1 el investigado a traves de su letrado recurre la resolucion de prision ¿en que plazo maximo debera resolverse el recurso?",
      opciones: ["A. 30 dias", 

                 "B. 2 dias",

                 "C. 3 dias",

                 "D. 10 dias"],
      correcta: 0
    },{
      texto: "10. si el investigado tiene una enfermedad mental grave ¿donde podra cumplir la prision provisional?",
      opciones: ["A. en un centro oficial o de una organizacion legalmente reconocidacon las medidas de vigilancia que resulte necesarias , cuando por razon de enfermedad el internamiento entrañe grave delito para su salud", 

                 "B. en su domicilio con las medidas de vigilancia que resulten necesarias , tambien se podria acordar por circunstancias o necesidades familiares",

                 "C. en un centro oficial u organizacion legalmente reconocida",

                 "D. en su domicilio con las medidas de vigilancia que resulten necesarias , cuando por razon de la enfermedad el internamiento entrañe grave peligro para su salud"],
      correcta: 3
    },{
      texto: "11. ar 509.1 en que casos se podria acordar la prision provisional",
      opciones: ["A. todas las respuestas son correstas", 

                 "B. evitar que personas supuestamente implica en los hechos investigados que se oculten , alteren o destruyan las pruebas relacionadas con su comision p que se cometan nuevos hechos delictivo",

                 "C. evitar que personas supuestamente implica en los hechos investigados puedan actuar en contra de bienes juridicos de la victima",

                 "D. evitar que se sustraigan a la accion de la justicia personas supuestamente implicadas en los hechos investigados"],
      correcta: 0
    },{
      texto: "12. ar 509.2 la prision incomunicada durara el tiempo estrictamente necesario para practicar con urgencia diligencias tendentes a evitar los peligros a que se refiere el apartado anterior . la incomunicacion no podra extenderse mas alla de ",
      opciones: ["A. 3 dias", 

                 "B. 2 dias",

                 "C. 72 horas",

                 "D. 5 dias"],
      correcta: 3
    },{
      texto: "13. ar 509.2 ¿en que casos la incomunicacion podra prorrogarse?",
      opciones: ["A. ninguna es cierta", 

                 "B. en los casos en los que se cometan delitos concertadamente y de forma organizada por dos o mas personas",

                 "C. en los casos en que la prision se acuerde en causa por alguno de los delitos a que se refiere el ar 384",

                 "D. las dos son correscas"],
      correcta: 1
    },{
      texto: "14. en determinados casos , la incomunicacion podra prorrogarse",
      opciones: ["A. 10 dias", 

                 "B. 5 dias",

                 "C. 2 dias",

                 "D. 3 dias"],
      correcta: 1
    },{
      texto: "15. ar 511.1 para dar cumplimiento al auto de prision , ademas de la resolucion ¿que deberia expedir?",
      opciones: ["A. se expedira un mandamiento para qie los cumplimente el agente de la administracion de justicia o funcionario de la policia judicial que haya de ejecutarlo", 

                 "B. se expediran 3 mandamientos : 1 para el agen te de la administracion , 1 para el director del establecimiento penitenciario y 1 para la causa",

                 "C. se expediran 2 mandamientos : 1 para la policia judicial o agente judicial en su caso que haya de ejecutarlo y otro para el director del establecimiento que deba recibir al preso",

                 "D. se expedira un mandamiento dirigido al director del establecimiento penitenciario para que lo reciba"],
      correcta: 2
    },
    
  ];

  let preguntaActual = 0;
  let aciertos = 0;
  let fallos = 0;
  let respondido = false;

  function cargarPregunta() {
    const p = preguntas[preguntaActual];
    document.getElementById('pregunta').textContent = p.texto;

    const contenedorOpciones = document.getElementById('opciones');
    contenedorOpciones.innerHTML = '';

    p.opciones.forEach((texto, index) => {
      const div = document.createElement('div');
      div.className = 'opcion';
      div.textContent = texto;
      div.onclick = () => verificarRespuesta(div, index);
      contenedorOpciones.appendChild(div);
    });

    respondido = false;
  }

  function verificarRespuesta(elemento, indiceSeleccionado) {
    if (respondido) return;
    respondido = true;

    const p = preguntas[preguntaActual];
    const opciones = document.querySelectorAll('.opcion');

    opciones.forEach((op, i) => {
      if (i === p.correcta) {
        op.classList.add('correcta');
      }
      if (i === indiceSeleccionado && i !== p.correcta) {
        op.classList.add('incorrecta');
      }
    });

    if (indiceSeleccionado === p.correcta) {
      aciertos++;
      document.getElementById('aciertos').textContent = aciertos;
      agregarRegistro(`Pregunta ${preguntaActual + 1}: ✅ Acierto`, 'aciertos');
    } else {
      fallos++;
      document.getElementById('fallos').textContent = fallos;
      agregarRegistro(`Pregunta ${preguntaActual + 1}: ❌ Fallo`, 'fallos');
    }

    // Avanza a la siguiente pregunta automáticamente
    setTimeout(cargarSiguientePregunta, 1000); // espera 1 segundo
  }

  function agregarRegistro(texto, clase) {
    const registro = document.getElementById('registro');
    const p = document.createElement('p');
    p.textContent = texto;
    p.className = clase;
    registro.appendChild(p);
  }

  function cargarSiguientePregunta() {
    if (preguntaActual < preguntas.length - 1) {
      preguntaActual++;
      cargarPregunta();
    } else {
      alert("Fin del test.");
    }
  }
  
  

  // Inicia con la primera pregunta
  cargarPregunta();
