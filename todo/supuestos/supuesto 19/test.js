const preguntas = [
    {
      texto: "1. segun lo establecido en el ae 486 y 487 de la LECRIM , si durante la instruccion del procedimiento, se citara a Beltran , solo para ser oido y este no compareciera ni justificare justa causa legitimada que se lo impidiera",
      opciones: ["A. se le volvera a citar formalmente", 

                 "B. se le podra imponer multa",

                 "C. la orden de comparecencia podra convertirse en orden de prision",

                 "D. la orden de comparecencia podra convertirse en orden de detencio"],
      correcta: 3
    },{
      texto: "2. en el caso que nos ocupa el LAJ de Beltran no presentare escrito de defensa en el plazo frente a la acusacion formulada",
      opciones: ["A. el procedimiento continuara su tramite y se entendera que se encuentra conforme con la acusacion", 

                 "B. se notificara personalente al acusado para que nombre otro abogado de su confianza ",

                 "C. se entendera que se opone a las acusaciones y seguira su curso el procedimiento ",

                 "D. se nombrara abogado de oficio que presente escrito de defensa"],
      correcta: 2
    },{
      texto: "3. en el presente supuesto , si hubiera varios acusados y algunos de ellos dejara de comparecer al acto del juicio oral sin alegar motivos legitimos , podra acordar el juez o tribunal , oida las partes",
      opciones: ["A. la continuacion del juicio para los restantes", 

                 "B. la suspension del juicio oral , en todo caso",

                 "C. la rebeldia del acusado no comparecido",

                 "D. la continuacion del juicio oral de todos los acusados , incluso con la oposicion del MF y el resto de las defensas comparecidas"],
      correcta: 0
    },{
      texto: "4. se podran adoptar medidas cautelares para asegurar las responsabilidades pecunarias",
      opciones: ["A. por el LAJ mediante decreto", 

                 "B. por el LAJ mediante orden ",

                 "C. por el juez o tribunal mediante auto",

                 "D. por el juez o tribunal mediante providencia"],
      correcta: 2
    },{
      texto: "5. ante la negativa de Beltran Garcia a prestar fianza señalada para el aseguramiento de la responsabilidad civil establecidas , indica la prelacion y orden para el embargo de sus bienes",
      opciones: ["A. primero la cuenta corriente bancaria a su nombre, segundo el vehiculo , tercero el piso, y por ultimo el sueldo de su actividad profesional", 

                 "B. primero el piso , la cuenta corriente el vehiculo y el sueldo",

                 "C. primero vehiculo , cuenta corriente , el piso y el sueldo",

                 "D. primero el sueldo , vehiculo , cuenta corriente , el piso"],
      correcta: 0
    },{
      texto: "6. si citara a Raul y no compareciera al primer llamamiento ¿que multa puede serle impuesta?",
      opciones: ["A. de 100 a 1000", 

                 "B. de 200 a 2000",

                 "C. de 200 a 3000",

                 "D. de 200 a 5000"],
      correcta: 3
    },{
      texto: "7. despues de ser citado en legal forma por segunda vez Raul, en el caso de no acudir al llamamiento judicial ¿que medida se adoptara despues de haber sido ya multado , persistiendo en su negativa , conforme a lo dispuesto en el ar 420 de la lec?",
      opciones: ["A. sera decretado en busca y captura", 

                 "B. se decretara su detencion sin mas tramites",

                 "C. sera conducido por los agentes de la autoridad a presencia del juez instructor y perseguido por un delito de obstruccion a la justicia",

                 "D. se deducira testimonio que sera remitido al juzgado de instruccion de guatdia que corresponda , por si hubiese incurrido en un delito de desobediencia"],
      correcta: 2
    },{
      texto: "8. segun la LECRIM , una vez recibida y terminada la declaracion de Raul , ¿quien le hara la advertencia de la obligacion de comparecer ante el tribunal competente y de poner en conocimiento de la oficina judicial los cambios de domicilio que pueda realizar?",
      opciones: ["A. el juez , haciendose constar por escrito en la declaracion", 

                 "B. el funcionario del cuerpo de gestion procesal , haciendose constar por escrito en la declaracion",

                 "C. el LAJ haciendose constar por escrito en la declaracion",

                 "D. el juez , haciendose verbalmente de la obligacion de comparecer"],
      correcta: 2
    },{
      texto: "9. si antes de la apertura del juicio oral Raul pusiera en conocimiento del juez instructor la imposibilidad de concurrir a dicho acto por tener que ausentarse del territorio nacional ",
      opciones: ["A. el juez de instruccion mandara practicar inmediatamente la declaracion , asegurando en todo caso la posibilidad de contradiccion de las partes , con citacion a todas las partes ", 

                 "B. se recibira declaracion sin mas tramites , unicamente con la asistencias del MF",

                 "C. se le requerira para que designe un nuevo domicilio , a efectos de recibir notificaciones ",

                 "D. se le requerira para que designe pèrsona que reciba citacion en su nombre en el territorio nacional "],
      correcta: 0
    },{
      texto: "10. el tribunal de oficio o a instancia de parte , no acordara que la comparecencia del testigo se realice a traves de videoconferencia u otro sistema similar que permita la comunicacion bidireccional y simultanea de la imagen y el sonido , por",
      opciones: ["A. razones de utilidad , seguridad o orden publica", 

                 "B. resultar gravosa o perjudicial",

                 "C. tratarse de un menor",

                 "D. interesarlo el testigo , sin causa jistificada"],
      correcta: 3
    },{
      texto: "11. si durante la instruccion del procedimiento , tanto el juez de instruccion de Navalcarnero como el juez de instruccion de Mostoles entendieran que son competentes para conocer de la causa , no habiendolo puesto de acuerdo en la primera comunicacion que se dirijan",
      opciones: ["A. daran cuenta , con remision del testimonio , al superior competente", 

                 "B. no seguiran practicando ninuna diligencia hasta que se resuelva la competencia",

                 "C. el LAJ remitira las diligencias originales al superior que resuelva ",

                 "D. daran cuenta , con remision del testimonio , al presidente del TSJ"],
      correcta: 0
    },{
      texto: "12. a quien le corresponde resolver la cuestion de competencia ",
      opciones: ["A. a la sala de gobierno del TSJ de Madrid", 

                 "B. a la audisncia provincial de Madrid",

                 "C. al presidente del TSJ",

                 "D. a la sala de lo civil y penal del TSJ de Madrid"],
      correcta: 1
    },{
      texto: "13. en el supuesto que se hubiere personado un querellante particular , la sentencia le podra condenar en costas",
      opciones: ["A. en ningun caso ", 

                 "B. unicamente si se hubiere deducido testimonio contra el mismo",

                 "C. unicamente si hubiera sido condenado por delito",

                 "D. cuando hubiere obrado con temeridad o mala fe"],
      correcta: 3
    },{
      texto: "14. si no se hubiere fijado en el fallo de la sentencia la cuantia indemnizatoria a favor de Antonio , dejandose pendiente para su determinacion en ejecucion de sentencia ¿mediante que tipo de resolucion se fijara su cuantia?",
      opciones: ["A. providencia", 

                 "B. auto",

                 "C. decreto",

                 "D. sentencia"],
      correcta: 1
    },{
      texto: "15. la notificacion de la sentencia a Antonio , si se hace fuera de los estrados del tribunal consistira , segun el ar 170 de la LCRIM",
      opciones: ["A. en la lectura integra de la resolucion y entrega de la diligencia de notificacion ", 

                 "B. en la lectura sucinta de la resolucion y la entrega de la cedula",

                 "C. en la lectura integra de la resolucion y entrega de copia de la cedula",

                 "D. en la lectura integra de la resolucion y firma de la cedula"],
      correcta: 2
    },{
      texto: "16. siendo el supuesto que nos ocupa competencia del juez de lo penal , dictara la sentencia oralmente y declarara su firmeza en el acto del juicio ¿cabe el pronunciamiento sobre algun aotra cuestion?",
      opciones: ["A. no , con la declaracion de firmeza se procedera a la ejecucion de la sentencia", 

                 "B. si , podra unicamente y sin mas tramite , pronunciarse sobre la sustitucion de la pena impuesta a Beltran",

                 "C. si , podra informar sobre el indulto de oficio",

                 "D. si, oida las partes , sobre la suspension o la sutitucion de la pena impuesta a Beltran"],
      correcta: 3
    },{
      texto: "17. segun diaponde la LECRIM en el ar 172 , si al ir a notificar a Beltran la sentenci dictada , este no se encontrase en el domicilio",
      opciones: ["A. se podra entregar la cedula a su hermano de 12 años", 

                 "B. se podra entregar la cedula a cualquier vecino mas proximo",

                 "C. se podra dejar la cedula en el buzon ",

                 "D. se dara aviso a la madre para que vaya a recoger la cedula al juzgado tan pronto como sea posible"],
      correcta: 1
    },{
      texto: "18. si no se hubiera fijado en el fallo la cuantia indemnizatoria , conforme al ae 794 de la LECRIM",
      opciones: ["A. el secretario convocara a las partes a una vista para fijarla por decreto", 

                 "B. cualquiera de las partes podra instar , durante la ejecucion de las sentencias , la practica de las pruebas que estime oportuno para su precisa determinacion ",

                 "C. el secretario convocara a una vista en los 20 dias siguientes , para determinar la cuantia",

                 "D. el juez oira las partes , por un plazo comun de 20 dias "],
      correcta: 1
    },{
      texto: "19. en el caso que nos ocupa , los pronunciamientos sobre responsabilidad civil . contenidos en la sentencia",
      opciones: ["A. seran ejecutables por el juzgado que instruyo la causa", 

                 "B. seran susceptibles de ejecucion provisional conforme a los dispuesto en la LEC ",

                 "C. seran susceptibles de ejecucion por el juzgado de 1 instancia que por turno corresponda ",

                 "D. no seran susceptibles de ejecucion provisional"],
      correcta: 1
    }
    
  ];

  let preguntaActual = 0;
  let aciertos = 0;
  let fallos = 0;
  let respondido = false;

  function cargarPregunta() {
    const p = preguntas[preguntaActual];
    document.getElementById('pregunta').textContent = p.texto;

    const contenedorOpciones = document.getElementById('opciones');
    contenedorOpciones.innerHTML = '';

    p.opciones.forEach((texto, index) => {
      const div = document.createElement('div');
      div.className = 'opcion';
      div.textContent = texto;
      div.onclick = () => verificarRespuesta(div, index);
      contenedorOpciones.appendChild(div);
    });

    respondido = false;
  }

  function verificarRespuesta(elemento, indiceSeleccionado) {
    if (respondido) return;
    respondido = true;

    const p = preguntas[preguntaActual];
    const opciones = document.querySelectorAll('.opcion');

    opciones.forEach((op, i) => {
      if (i === p.correcta) {
        op.classList.add('correcta');
      }
      if (i === indiceSeleccionado && i !== p.correcta) {
        op.classList.add('incorrecta');
      }
    });

    if (indiceSeleccionado === p.correcta) {
      aciertos++;
      document.getElementById('aciertos').textContent = aciertos;
      agregarRegistro(`Pregunta ${preguntaActual + 1}: ✅ Acierto`, 'aciertos');
    } else {
      fallos++;
      document.getElementById('fallos').textContent = fallos;
      agregarRegistro(`Pregunta ${preguntaActual + 1}: ❌ Fallo`, 'fallos');
    }

    // Avanza a la siguiente pregunta automáticamente
    setTimeout(cargarSiguientePregunta, 1000); // espera 1 segundo
  }

  function agregarRegistro(texto, clase) {
    const registro = document.getElementById('registro');
    const p = document.createElement('p');
    p.textContent = texto;
    p.className = clase;
    registro.appendChild(p);
  }

  function cargarSiguientePregunta() {
    if (preguntaActual < preguntas.length - 1) {
      preguntaActual++;
      cargarPregunta();
    } else {
      alert("Fin del test.");
    }
  }
  
  

  // Inicia con la primera pregunta
  cargarPregunta();
