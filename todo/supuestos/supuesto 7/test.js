const preguntas = [
    {
      texto: "1. Cuando el tribunal conoce de la muerte de una persona y no conste la existencia de testamento ni de personas llamadas a sucederle, procedera el aseguramiento de los bienes del difunto, conforme a lo dispuesto en el ar 790.1 LEC ",
      opciones: ["A. de oficio", 

                 "B. a instancia de la abogacia del estado",

                 "C. a instancia del MF ",

                 "D. a instancia de cualquier conocedor del hecho, sea o no interesado"],
      correcta: 0
    },{
      texto: "2. Efectuado el aseguramiento de bienes del firmado, las medidas que se estimen necesarias a fin de averiguar si el fallecido otorgo o no testamento se acuerdan por medio de ",
      opciones: ["A. auto", 

                 "B. decreto",

                 "C. diligencia",

                 "D. providencia"],
      correcta: 2
    },{
      texto: "3. Entre las medidas que se refiere la pregunta anterior estara , necesariamente",
      opciones: ["A. traer a los autos informe de la policia judicial sobre la existencia de familiares del difunto", 

                 "B. traer a los autos certificados de nacimiento del difunto ",

                 "C. traer a los autos certificados y de defuncion del difunto , luego que sea posible ",

                 "D. traer a los autos certificados de defuncion del finado , luego que sea posible "],
      correcta: 3
    },{
      texto: "4. el inventario y deposito de los bienes del fallecido sin testar y sin parientes llamados por ley a la sucesion se acuerda por medio de ",
      opciones: ["A. diligencia ", 

                 "B. decreto",

                 "C. providencia",

                 "D. auto"],
      correcta: 3
    },{
      texto: "5. la ocupacion que se describe en el supuesto practico ha de llevarse a cabo, segun el ar 791.2.1` de la ley 1/2000 , sobre",
      opciones: ["A. libros y correspondencia del difunto", 

                 "B. libros , papeles y correspondencia del difunto",

                 "C. bienes , libros , papeles y correspondencia del difunto",

                 "D. bienes, libros, papeles , correspondencia y efectos del difunto susceptibles de sustraccion y ocupacion "],
      correcta: 1
    },{
      texto: "6. en el mismo momento en que se disponga llevar a cabo el inventario y deposito de los bienes del finado se ha de resolver ",
      opciones: ["A. la apertura de un nuevo procedimiento a fin de proceder a efectuar la declaracion de herederos abintestato", 

                 "B. en la misma resolucion ordenara de oficio la comunicacion a la delegacion de economia y hacienda correspondiente por si resultare procedente la declaracion de heredero abintestato a favor del estado ",

                 "C. dirigir mandamiento al notario que corresponda para llevar a cabo la declaracion de herederos abintestato",

                 "D. oficiar el registro de actos de ultimna voluntad para que lleve a cabo la declaracion de herederos abintestato"],
      correcta: 1
    },{
      texto: "7. suponiendo que el inventario no se pudiese terminar el dia señalado ",
      opciones: ["A. se dictara providencia señalando un nuevo dia para su continuacion ", 

                 "B. se dictara auto señalando nuevo dia para su continuacion",

                 "C. se continuara en los dias siguientes sin necesidad de dictar nueva resolucion al efecto",

                 "D. se habilitaran las horas inhabiles , por acuerdo del LAJ, hasta que el mismo se termine"],
      correcta: 2
    },{
      texto: "8. la retribucion o indemnizacion que pueda corresponder al depositario por el ejercicio de sus funciones se percibira con cargo",
      opciones: ["A. al caudal hereditario ", 

                 "B. exclusivamente a quienes resulten herederos ",

                 "C. a quienes resulten herederos o legatarios de parte alicuota, en proporcion a los bienes de que resulten adjudicativos",

                 "D. a quienes resulten herederos o legatarios"],
      correcta: 0
    },{
      texto: "9. si se sucita controversia sobre la inclusion de bienes en el inventario se procedera a",
      opciones: ["A. suspender el mismo y dar cuenta al juez de la contro versia para que inicie el procedimiento que corresponda", 

                 "B. incluir dicho bien en el mismo, haciendolo constar en la diligencia , hasta que el juez decida la pertinencia o no de dicha inclusion",

                 "C. citar a los interesados a una vista",

                 "D. excluir dicho bien del mismo , haciendolo constar en la diligencia , hasta que el juez decida sobre la pertenencia o no de dicha exclusion"],
      correcta: 2
    },{
      texto: "10. en caso de ser necesario un procedimiento para resolver la controversia a que se refiere la pregunta anterior se segura por los tramites",
      opciones: ["A. del juicio ordinario ", 

                 "B. del juicio verbal ",

                 "C. del procedimiento incidental ",

                 "D. del procedimiento de jurisdiccion voluntaria"],
      correcta: 1
    },{
      texto: "11. a tenor de lo dispuesto en el ar 794.4 de la LEC , la resolucion que se pronuncie sobre la inclusion de bienes del inventario",
      opciones: ["A. dejara a salvo los derechos de terceros ", 

                 "B. sera recurrible en reposicion",

                 "C. no sera susceptible en recurso alguno ",

                 "D. sera recurrible en suplica"],
      correcta: 0
    },{
      texto: "12. quien es el encargado de formar el inventario",
      opciones: ["A. el LAJ ", 

                 "B. el auxilio judicial",

                 "C. la comision judicial",

                 "D. el juez al aprobar diligencia "],
      correcta: 0
    },{
      texto: "13. tras la practica del inventario se procedera al nombramiento de un administrador",
      opciones: ["A. si asi lo considera necesario el juez por medio de auto", 

                 "B. si asi lo considera necesario el juez por medio de providencia",

                 "C. siempre que lo solicite todos los interesados en la herencia ",

                 "D. siempre que lo solicite el MF y quienes representen , al menos , la mitad de derechos sobre el caudal hereditario"],
      correcta: 0
    },{
      texto: "14. esta obligado el administrador a prestar caucion",
      opciones: ["A. si siempre ", 

                 "B. si , salvo que el juez lo dispense en los casos previstos en la ley ",

                 "C. no , salvo que asi lo soliciten los que tengan un interes legitimo ",

                 "D. si, siempre que lo solicite el MF"],
      correcta: 1
    },{
      texto: "15. salvo que se señale otra cosa por el tribunal , la rendicion de cuentas justificadas por parte del administrador tendra lugar en un plazo de que no exceda de ",
      opciones: ["A. 3 meses", 

                 "B. 6 meses",

                 "C. 9 meses",

                 "D. 1 año"],
      correcta: 3
    },{
      texto: "16. para acreditar su representacion al administrador se le dara",
      opciones: ["A. mandamiento en el que conste su nombramento ", 

                 "B. testimonio en el que conste su nombramiento y que se halla en posesion del cargo ",

                 "C. copia de la resolucion en la que se procede a su nombramiento ",

                 "D. copia en la resolucion en la que se procede a su nombramiento y de las comparecencia en la que acepte el cargo"],
      correcta: 1
    },{
      texto: "17. la rendicion de cuentas del administrador se pondra de manifiesto a las partes en secretaria por termino comun",
      opciones: ["A. de 10 dias", 

                 "B. de 15 dias ",

                 "C. de un mes ",

                 "D. que señale el LAJ mediante diligencia"],
      correcta: 3
    },{
      texto: "18. puede el administrador enajenar o gravar los bienes intervenidos",
      opciones: ["A. no, nunca ", 

                 "B. si siempre",

                 "C. no, salvo las excepciones previstas por ley",

                 "D. si, salvo las excepciones previstas por ley "],
      correcta: 2
    },{
      texto: "19. aceptada la herencia , el administrador ",
      opciones: ["A. cesara en la representacion de todo lo concerniente a la misma", 

                 "B. cesara en la representacion de la misma en todo lo referido a la custodia y conservacion del caudal ",

                 "C. continuara en la representacion de la misma en todo lo que se refiera directamente a la administracion del caudal, su custodia y conservacion ",

                 "D. estara a lo que inste los herederos al juez competente"],
      correcta: 2
    },{
      texto: "20. cuando cesara la intervencion judicial de la herencia , caso de no existir acreedores de la misma, segun dispone el ar 796.1 de la ley 1/2000",
      opciones: ["A. cuando se efectue la decaracion de herederos , cualquiera que sean las circunstancias ", 

                 "B. cuando se efectue la declaracion de herederos , salvo que alguno de ellos pida la division judicial de la herencia y se solicite la subsistencia de la intervencion ",

                 "C. cuando se efectue la declaracion de herederos , salvo que algunos de ellos pida la division judicial de la herencia y sin necesidad de solicitar la subsistencia de la intervencion",

                 "D. cuando se dicte la resolucion por la que se proceda a la division de la herencia"],
      correcta: 1
    },
    
  ];

  let preguntaActual = 0;
  let aciertos = 0;
  let fallos = 0;
  let respondido = false;

  function cargarPregunta() {
    const p = preguntas[preguntaActual];
    document.getElementById('pregunta').textContent = p.texto;

    const contenedorOpciones = document.getElementById('opciones');
    contenedorOpciones.innerHTML = '';

    p.opciones.forEach((texto, index) => {
      const div = document.createElement('div');
      div.className = 'opcion';
      div.textContent = texto;
      div.onclick = () => verificarRespuesta(div, index);
      contenedorOpciones.appendChild(div);
    });

    respondido = false;
  }

  function verificarRespuesta(elemento, indiceSeleccionado) {
    if (respondido) return;
    respondido = true;

    const p = preguntas[preguntaActual];
    const opciones = document.querySelectorAll('.opcion');

    opciones.forEach((op, i) => {
      if (i === p.correcta) {
        op.classList.add('correcta');
      }
      if (i === indiceSeleccionado && i !== p.correcta) {
        op.classList.add('incorrecta');
      }
    });

    if (indiceSeleccionado === p.correcta) {
      aciertos++;
      document.getElementById('aciertos').textContent = aciertos;
      agregarRegistro(`Pregunta ${preguntaActual + 1}: ✅ Acierto`, 'aciertos');
    } else {
      fallos++;
      document.getElementById('fallos').textContent = fallos;
      agregarRegistro(`Pregunta ${preguntaActual + 1}: ❌ Fallo`, 'fallos');
    }

    // Avanza a la siguiente pregunta automáticamente
    setTimeout(cargarSiguientePregunta, 1000); // espera 1 segundo
  }

  function agregarRegistro(texto, clase) {
    const registro = document.getElementById('registro');
    const p = document.createElement('p');
    p.textContent = texto;
    p.className = clase;
    registro.appendChild(p);
  }

  function cargarSiguientePregunta() {
    if (preguntaActual < preguntas.length - 1) {
      preguntaActual++;
      cargarPregunta();
    } else {
      alert("Fin del test.");
    }
  }
  
  

  // Inicia con la primera pregunta
  cargarPregunta();
