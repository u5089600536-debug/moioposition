const preguntas = [
    {
      texto: "1. las sentencias dictadas en ausencia . haya sido o no apelada , es susceptible de ser recurrida en anulacion por el condenado cuando este comparezcao sea habido , en el plazo de ",
      opciones: ["A. 20 dias ", 

                 "B. 15 dias",

                 "C. 10 dias",

                 "D. 5 dias"],
      correcta: 2
    },{
      texto: "2. la reglamentacion para la ordenacion de los señalamientos de juicios orales que realizan los LAJ de los juzgados de guardia ante los juzgados de lo penal corresponde a",
      opciones: ["A. al ministerio de justicia junto con el CGPJ", 

                 "B. al ministerio de justicia en coordinacion con el MF",

                 "C. al CGPJ en coordinacion con el MF ",

                 "D. al CGPJ en coordinacion con la CCAA con competencias en materia de justicia"],
      correcta: 2
    },{
      texto: "3. cuando un juez de guardia hubiere acordado el procedimiento para enjuiciamiento rapido de determinados delitos , en el mismo acto oira al MF y a las partes personadas",
      opciones: ["A. para que formulen escrito de acusacion ", 

                 "B. para que formulen escrito de defensa",

                 "C. para que se pronuncien sobre si procede la apertura del juicio oral o el sobreseimiento y para que, en su caso , soliciten en lo solicitado respecto a la adopcion de medidas cautelares ",

                 "D. no cabe oir al MF ni las partes personadas , dictando el juez de guardia inmediatamente auto de apertura del juicio oral"],
      correcta: 2
    },{
      texto: "4. frente a la decision adoptada por le juez o tribunal respecto a las cuestiones planteadas por las partes al comienzo del juicio oral",
      opciones: ["A. no cabra recurso alguno,  sin perjuicio de la pertinente protesta y de que la cuestion pueda ser reproducida , en su caso, en el recurso frente a la sentencia", 

                 "B. cabra recurso de queja frente a la decision adoptada por el juez o tribunal ",

                 "C. no podra formularse ni recurso ni protesta alguna ",

                 "D. podra formularse recurso de reposicion y subsidiaramente recurso de queja "],
      correcta: 0
    },{
      texto: "5. el procedimiento para el enejuiciamiento rapido de determiados delitos no se aplicara cuando se trate de alguno de los siguientes delitos ",
      opciones: ["A. hurto ", 

                 "B. robo",

                 "C. flagrantes relativos a la propiedad intelectual e industrial previstos en los ar 270 y 273",

                 "D. de malversacion de caudales publicos"],
      correcta: 3
    },{
      texto: "6. terminada la vista , la sentencia se dictara",
      opciones: ["A. dentro de los 5 dias siguientes ", 

                 "B. dentro de los 3 dias siguientes",

                 "C. dentro de los 10 dias siguientes",

                 "D. dentro de los 15 dias siguientes"],
      correcta: 1
    },{
      texto: "7. conforme al ar 795 de la LECRim , el procedimiento para el enjuiciamiento rapido de determinados delitos se aplicara , cuando se cumpla el resto de requisitos previstos legalmente ",
      opciones: ["A. cuya instruccion sea presumible que sera sencilla ", 

                 "B. cuya instruccion sea presumible que no precise mas de 6 meses",

                 "C. que carezca de instruccion ",

                 "D. cuya instruccion sea totalmente realizada por la policia judicial "],
      correcta: 0
    },{
      texto: "8. en todo lo no previsto expresamente en la regulacion que contiene la LECRim para el procedimiento rapido de determinados delitos se aplicaran supletoriamente",
      opciones: ["A. las normas del procedimiento ante el tribunal del jurado ", 

                 "B. las normas del PA",

                 "C. las normas del procedimiento sumario ordinario",

                 "D. las normas del procedimiento para el juicio sobre delitos leves"],
      correcta: 1
    },{
      texto: "9. frente a las sentencias dictadas por el juzgado de lo penal podra interponerse recurso de ",
      opciones: ["A. apelacion ante la AN ", 

                 "B. apeñacion ante el TSJ",

                 "C. apelacion ante la sala segunda del TS",

                 "D. apelacion ante la AP"],
      correcta: 3
    },{
      texto: "10. ¿que recurso cabe contra el auto de incoacion de diligencias urgentes del juzgado de guardia tras recibir el atestado policial en el procedimiento rapido para el enjuiciamiento de determinados delitos?",
      opciones: ["A. recurso de apelacion ", 

                 "B. recurso de reforma ",

                 "C. recurso de suplica ",

                 "D. no cabe recurso alguno"],
      correcta: 3
    },{
      texto: "11. en el procedimiento para el enjuiciamiento rapido de determinados delitos , el juicio oral comenzara",
      opciones: ["A. con la lectura por parte del abogado defensor de los escritos de acusacion y defensa", 

                 "B. con la practica de la prueba propuesta y admitida",

                 "C. con la formulacion por las partes de las alegaciones previas",

                 "D. con la lectura de los escritos de acusacion y defensa"],
      correcta: 3
    },{
      texto: "12. el LAJ notificara la sentencia por escrito ",
      opciones: ["A. solo a las partes personadas", 

                 "B. a los ofencidos y perjudicados por el delito , aunque no se hayan mostrado parte en la acusacion",

                 "C. a los ofendidos y perjudicados por el delito , solo en el ecaso de que se hayan mostrado parte en la causa",

                 "D. a la policia judicial que haya instruido el atestado "],
      correcta: 1
    },{
      texto: "13. las resoluciones dictadas por el juez de guardia ordenando seguir adelante las causa por el cauce del procedimiento para el enjuiciamiento rapido de determinados delitos, salvo en los supuestos del ar 779 apartado 1 y 3 de la LECRim",
      opciones: ["A. sera en forma oral y debera documentarse ", 

                 "B. sera escrita ",

                 "C. podra ser oral o escrita ",

                 "D. sea en forma oral y no debera documentarse"],
      correcta: 0
    },{
      texto: "14. prestada conformidad por el acusado ante el jueaz de guardia y realizado el control de la misma , el juez de guardia dictara oralmente sentencia de conformidad , en la que impondra ",
      opciones: ["A. la pena solicitada reducida en un medio", 

                 "B. la pena solicitada reducida por un tercio",

                 "C. la pena solicitada reducida por un quinto",

                 "D. la pena solicitada reducida por un cuarto"],
      correcta: 1
    },{
      texto: "15. dictada sentencia oralmente en el acto del juicio por el juez de lo penal ",
      opciones: ["A. se documentara en el acta con expresion del fallo y una sucinta motivacion sin perjuicio de la ulterior redaccion de la sentencia", 

                 "B. se documentara exclusivamente el fallo",

                 "C. no sera precisa su redaccion ulterior",

                 "D. no se documentara ni el fallo ni la motivacion de la sentencia"],
      correcta: 0
    },{
      texto: "16. abierto el juicio oral , si no se hubiere constituido acusacion particular , el MF presentara de inmediato su escrito de acusacion o formulara esta oralmente , pudiendo el acusado",
      opciones: ["A. prestar su conformidad en el mismo acto , a la vista de la acusacion formulada", 

                 "B. prestar su conformidad en el plazo de 24 horas",

                 "C. prestar su conformidad en el plazo de 48 horas",

                 "D. prestar su conformidad en el plazo de 5 dias "],
      correcta: 0
    },{
      texto: "17. el juzgado de guardia, en el seno del procedimiento para el enjuiciamiento rapido de deterimados delitos , practicara el reconocimiento en rueda del investigado ",
      opciones: ["A. en todo caso ", 

                 "B. de resultar pertinente y haber comparecido el testigo",

                 "C. no es una actuacion prevista para este tipo de procedimiento ",

                 "D. de resultar pertinente y no haber comparecido el testigo"],
      correcta: 1
    },{
      texto: "18. incoadas diligencias urgentes ante el juzgado de guardia , el abogado designado para la defensa ",
      opciones: ["A. tendra tambien la habilitacion legal para la represntacion de su defendido en todas las actuaciones que se verifiquen ante el juez de guardia", 

                 "B. nunca tendra la habilitacion de representacion",

                 "C. sera el procurador el que prodra asumir la defensa del investigado en todas las actuaciones que se verifique ante el juez de guardia",

                 "D. al detenido nunca debe designar abogado para su defensa"],
      correcta: 0
    },{
      texto: "19. el procedimiento para el enjuiciamiento rapido de determiados delitos se aplicara , cuando se cumpla el resto de requisitos previstos legalmente , a la instruccion y enjuiciamiento de delitos castigados con pena privatica de libertad que no exceda de ",
      opciones: ["A. 2 años", 

                 "B. 3 años",

                 "C. 5 años ",

                 "D. 6 años"],
      correcta: 2
    },{
      texto: "20. la ausencia injustificada al acto del juicio oral del tercero responsable civil citado en forma",
      opciones: ["A. sera por si misma causa de suspension del juicio", 

                 "B. sera por si misma causa de suspension del juicio cuando afecte al tercero responsable civil directo en causa por delitos contra la seguridad vial",

                 "C. no sera por si misma causa de suspension del juicio",

                 "D. sera por si misma causa de suspension del juicio cuando afecte a la acusacion particular "],
      correcta: 2
    },{
      texto: "21. (reserva) en el supuesto de que se acordara el secreto de las actuaciones , conforme a lo establecido en el ar 302 de la LECRim , el procedimiento para el enjuiciamiento rapido de determiados delitos ",
      opciones: ["A. si se aplicara, siempre que lo interese la acusacion particular", 

                 "B. no se aplicara",

                 "C. si se aplicara, unicamente cuando asi lo diga el MF",

                 "D. si se plicara , solo cuando el delito de enjuiciamiento sea de robo"],
      correcta: 1
    },{
      texto: "22. (reserva)contra la sentencia dictada en apelacion por la AP solo cabra",
      opciones: ["A. recurso de casacion en los supuestos previstos en el ar 847 de la LECRim", 

                 "B. recurso de queja",

                 "C. recurso de reposicion",

                 "D. no cabe recurso alguno "],
      correcta: 0
    },
    
  ];

  let preguntaActual = 0;
  let aciertos = 0;
  let fallos = 0;
  let respondido = false;

  function cargarPregunta() {
    const p = preguntas[preguntaActual];
    document.getElementById('pregunta').textContent = p.texto;

    const contenedorOpciones = document.getElementById('opciones');
    contenedorOpciones.innerHTML = '';

    p.opciones.forEach((texto, index) => {
      const div = document.createElement('div');
      div.className = 'opcion';
      div.textContent = texto;
      div.onclick = () => verificarRespuesta(div, index);
      contenedorOpciones.appendChild(div);
    });

    respondido = false;
  }

  function verificarRespuesta(elemento, indiceSeleccionado) {
    if (respondido) return;
    respondido = true;

    const p = preguntas[preguntaActual];
    const opciones = document.querySelectorAll('.opcion');

    opciones.forEach((op, i) => {
      if (i === p.correcta) {
        op.classList.add('correcta');
      }
      if (i === indiceSeleccionado && i !== p.correcta) {
        op.classList.add('incorrecta');
      }
    });

    if (indiceSeleccionado === p.correcta) {
      aciertos++;
      document.getElementById('aciertos').textContent = aciertos;
      agregarRegistro(`Pregunta ${preguntaActual + 1}: ✅ Acierto`, 'aciertos');
    } else {
      fallos++;
      document.getElementById('fallos').textContent = fallos;
      agregarRegistro(`Pregunta ${preguntaActual + 1}: ❌ Fallo`, 'fallos');
    }

    // Avanza a la siguiente pregunta automáticamente
    setTimeout(cargarSiguientePregunta, 1000); // espera 1 segundo
  }

  function agregarRegistro(texto, clase) {
    const registro = document.getElementById('registro');
    const p = document.createElement('p');
    p.textContent = texto;
    p.className = clase;
    registro.appendChild(p);
  }

  function cargarSiguientePregunta() {
    if (preguntaActual < preguntas.length - 1) {
      preguntaActual++;
      cargarPregunta();
    } else {
      alert("Fin del test.");
    }
  }
  
  

  // Inicia con la primera pregunta
  cargarPregunta();
