const preguntas = [
    {
        pregunta: "1. ¿por que principios se rige la delimitacion y el ejercicio de las competencias de la Union Europea?",
        opciones: [ "a. igualdad, reciprocidad y atribucion", 
                    "b. atribucion, subsidiariedad y proporcionalidad", 
                    "c. atribucion y reciprocidad", 
                    "d. igualdad y libertad"],
        correcta: 1
    },{
        pregunta: "2. ¿que significa el principio de atribucion de competencias de la union europea?",
        opciones: [ "a. que sera la UE la que delimite sus competencia", 
                    "b. que en caso de conflicto la competencia le pertenece a la UE", 
                    "c. que la union actua dentro de los limites de las competencias que le atribuya los estados miembros en los tratados", 
                    "d. que en caso de conflicto la competencia pertenece al estado correspondiente"],
        correcta: 2
    },
{
        pregunta: "3. ¿que significa que los tratados atribuyan a la union una competencia exclusiva en in ambito determinado?",
        opciones: [ "a. solo la union podra legislar y adoptar actos juridicamente vinculantes y los estados solo si estan facultados por la misma", 
                    "b. solo la union podra legislar y adoptar actos juridicamente vinculantes y los estados en ningun caso podran hacerlo", 
                    "c. tanto los estados como la UE podran legislar y adoptar actos juridicamentes vinculantes", 
                    "d. ninguna es cierta"],
        correcta: 0
    },
{
        pregunta: "4. ¿que significa cuando los tratados atribuyan a la union competencias compartidas en un ambito determinado?",
        opciones: [ "a. solo la union podra legislar y adoptar actos juridicamente vinculantes y los estados solo si estan facultados por la misma", 
                    "b. solo la union podra legislar y adoptar actos juridicamente vinculantes , los estados en ningun caso podran hacerlo", 
                    "c. la union y los estados miembros podran legislar y adoptar actos juridicamente vinculantes en dicho ambito", 
                    "d. ninguna es correcta"],
        correcta: 2
    },
{
        pregunta: "5. ¿en que materias tiene la UE competencias exclusivas?",
        opciones: [ "a. la union aduanera", 
                    "b. el establecimiento de las normas sobre competencias necesarias para el funcionamiento del mercado interior", 
                    "c. la politica monetaria de los estados miembros cuya moneda es el auro", 
                    "d. todas son correctas"],
        correcta: 3
    },
{
        pregunta: "6. ¿en que materias tiene la UE competencias exclusivas?",
        opciones: [ "a. la politica comercial comun", 
                    "b. terrorismo a nivel internacional", 
                    "c. derechos humanos", 
                    "d. todas son correctas"],
        correcta: 0
    },
{
        pregunta: "7. ¿en que materias tiene la UE competencias compartidas?",
        opciones: [ "a. conservacion de los recursos biologicos marinos dentro de la politica pesquera comun", 
                    "b. el medio ambiente", 
                    "c. la union aduanera", 
                    "d. toda son correctas"],
        correcta: 1
    },
{
        pregunta: "8. ¿en que materias tiene la UE competencias compartidas?",
        opciones: [ "a. la proteccion de los consumidores", 
                    "b. la energia", 
                    "c. el espacio de libertad , seguridad y justicia", 
                    "d. todas son correctas"],
        correcta: 3
    },
{
        pregunta: "9. ¿en que materias la UE dispondra de competencias para llevar a cabo acciones con el fin de apoyar , coordinar o complementar la accion de los estado miembros?",
        opciones: [ "a. la industria", 
                    "b. la cultura", 
                    "c. la proteccion civil", 
                    "d. todas son correctas"],
        correcta: 3
    },
{
        pregunta: "10. cuales de las siguientes no es una institucion de la UE",
        opciones: [ "a. el parlamento europeo ", 
                    "b. el tribunal de cuentas", 
                    "c. el banco central europeo", 
                    "d. todas las instituciones son de la UE"],
        correcta: 3
    },
{
        pregunta: "11. cuales son las funciones del parlamento europeo",
        opciones: [ "a. la funcion legislativa y presupuestaria", 
                    "b. promovera el interes general de la union y tomara las iniciativas adecuadas con este fin ", 
                    "c. supervisara la aplicacion del derecho de la union bajo el control del Tribunal de justicia de la union europeo", 
                    "d. todas son correctas"],
        correcta: 0
    },
{
        pregunta: "12. ¿cuales son las funciones del parlamento europeo?",
        opciones: [ "a. ejercera funciones de control politico y consultivo , en las condiciones establecidas en los tratados", 
                    "b. elegira al presidente de la comision", 
                    "c. decidira sobre la mocion de censura que , en su caso, pudiera presentarse contra la comision", 
                    "d. todas son correcrtas"],
        correcta: 3
    },
{
        pregunta: "13. ¿quien establece el presupuesto anual de la union?",
        opciones: [ "a. el parlamento eu y la comision", 
                    "b. el parlamento eu y el consejo", 
                    "c. la comision y el tribunal de cuentas", 
                    "d. el consejo europeo"],
        correcta: 1
    },
{
        pregunta: "14. el consejo UE tendra las siguientes competencias",
        opciones: [ "a. funcion legislativa ", 
                    "b. elegira al presidente de la comision", 
                    "c. dara a la union los impulsos necesarios para su desarrollo y defenira sus orientaciones y prioridades politicas generales", 
                    "d. examinara los ingresos y gastos de la union"],
        correcta: 2
    },
{
        pregunta: "15. en el caso de que el defensor del pueblo europeo, haya comprobado un caso de mala administracion , lo pondra en conocimiento de la institucion u organo interesado , que para exponer su posicion al defensor del pueblo despondra de un plazo de",
        opciones: [ "a. 2 meses ", 
                    "b. 1 mes ", 
                    "c. 3 meses", 
                    "d. 10 dias"],
        correcta: 2
    },
{
        pregunta: "16. quien podra destituit al defensor del pueblo europeo",
        opciones: [ "a. el tribunal de justicia, a peticion del parlamento europeo", 
                    "b. la comision , a peticion del parlamento eu", 
                    "c. el tribunal de justicia a peticion de la comision ", 
                    "d. el parlamento eu"],
        correcta: 0
    },
{
        pregunta: "17. ¿por quien estara compuesto el consejo eu?",
        opciones: [ "a. por los representantes de los ciudadanos de la union", 
                    "b. los miembros eran elegidos por el parlamento eu", 
                    "c. por los jefes de estado o de gobierno de los estados miembros", 
                    "d. por los ministros de cada estado correspondiente a las materias que se vayan a tratar"],
        correcta: 2
    },
{
        pregunta: "18. el presidente del consejo eu",
        opciones: [ "a. sera elegido por 3 años y medio", 
                    "b. sera elegido por la mayoria cualificada", 
                    "c. podra ser renovado por una sola vez", 
                    "d. todas son correctas"],
        correcta: 3
    },
{
        pregunta: "19. como regla general del consejo europeo",
        opciones: [ "a. adoptara sus deciciones por concenso, salvo cuando los tratados dispongan otra cosa", 
                    "b. adoptara sus decisiones por mayoria cualificada", 
                    "c. adoptara sus decisiones por mayoria simple", 
                    "d. no hay una regla general , deoende de cada caso"],
        correcta: 0
    },
{
        pregunta: "20. el parlamento europeo estara formado ",
        opciones: [ "a. por los representantes de los ciudadanos de la union", 
                    "b. los miembros seran elegidos por el consejo ", 
                    "c. por los jefes de estado o de gobierno de los estados miebros", 
                    "d. por los ministros de cada estado miembro correspondiente a las materias que se vayan a tratar"],
        correcta: 0
    },
{
        pregunta: "21. segun la nueva regulacion del TUE ¿cuantos diputados tendra el parlamento?",
        opciones: [ "a. 754", 
                    "b. 750", 
                    "c. 630", 
                    "d. 820"],
        correcta: 1
    },
{
        pregunta: "22. salvo disposicion en contrario el parlamento europeo decidira",
        opciones: [ "a. por mayoria absoluta", 
                    "b. por mayoria de votos emitidos", 
                    "c. por mayoria cualificada", 
                    "d. por concenso"],
        correcta: 1
    },
{
        pregunta: "23. por que mayoria, tiene que aprobarse la mocion de censura a la comision europea",
        opciones: [ "a. por mayoria absoluta de los votos emitidos , que representan a su vez , la mayoria de los diputados que componen el parlamento europeo", 
                    "b. por mayoria de 2/3 votos emitidos , que representan a su vez , la mayoria de los diputados que componen el parlamento europeo", 
                    "c. por la mayoria simple que a su vez representen a su vez , 2/3 de los diputados que componen el parlamento europeo", 
                    "d. por unanimidad"],
        correcta: 1
    },
{
        pregunta: "24. diga la respuesta falsa en relacion con el presidente del consejo europeo",
        opciones: [ "a. se elige por mayoria cualificada", 
                    "b. para un mandato de 2 años y medio y puede ser reelegido una sola vez ", 
                    "c. en caso de impedimento o causa grave , el consejo europeo podra poner fin a su mandato", 
                    "d. podra ejercer mandato nacional si no es incompatible"],
        correcta: 3
    },
{
        pregunta: "25. ¿por quien estaran representados los estados miembros en el consejo de la UE?",
        opciones: [ "a. por el jefe de estado o de gobierno", 
                    "b. por los representantes de los ciudadanos de la union", 
                    "c. por sus gobiernos (un representante de cada estado miembro de rango ministerial)", 
                    "d. por quien determine el parlamento"],
        correcta: 2
    },
{
        pregunta: "26. cuales son las competencias del consejo de la UE ",
        opciones: [ "a. junto con el parlamento la funcion legislativa y presupuestaria", 
                    "b. el consejo ejercera funciones de definicion de politicas y coordinacion en las condiciones establecidas en los tratados", 
                    "c. el consejo interviene junto con el consejo europeo y el parlamento en los procedimientos de revision de los tratados", 
                    "d. todas son correctas"],
        correcta: 3
    },
{
        pregunta: "27. ¿quien ejercera la presidencia del consejo de la UE, con excepcion de la de asuntos exteriores?",
        opciones: [ "a. el estado miembro que corresponda por orden rotatorio", 
                    "b. grupos predeterminados de tres estados miembros durante un periodo de 18 meses por rotacion", 
                    "c. grupos predeterminados de tres estados miembros durante un periodo de 12 meses por rotacion", 
                    "d. ninguna es correcta , no hay excepcion para la de asuntos exteriores"],
        correcta: 1
    },
{
        pregunta: "28. quien ejercera la presidencia del consejo de asuntos exteriores de la UE ",
        opciones: [ "a. quien ejerza la presidencia del consejo de ministros", 
                    "b. quien determine el consejo", 
                    "c. el alto representante de la union para asuntos exteriores y politica de seguridad ", 
                    "d. el presidente de la comision"],
        correcta: 2
    },
{
        pregunta: "29. cual es la mision de la comision europea",
        opciones: [ "a. velar y proteger los intereses particulares o nacionales de los estados miembros", 
                    "b. velar y proteger los intereses de la union europea en su conjunto", 
                    "c. representar a los ciudadanos de los estados miembros", 
                    "d. representantes a los estados miembros"],
        correcta: 1
    },
{
        pregunta: "30. cuales de las siguientes son competencias de la comision europea",
        opciones: [ "a. promover los intereses generales de la union", 
                    "b. velara popr que se apliquen los tratados y medidas adoptadas por las instituciones en virtud de estos", 
                    "c. ejecutara el presupuesto y gestionara los programas", 
                    "d. todas son correctas"],
        correcta: 3
    },
{
        pregunta: "31. cuales de las siguientes son competencias de la comision europea",
        opciones: [ "a. supervisar la aplicacion del derecho de la union bajo el control del tribunal de justicia de la union europea", 
                    "b. ejercera conjuntamente con el parlamento europeo la funcion legislativa y la funcion presupuestaria", 
                    "c. presidira e impulsara los trabajos del consejo europeo", 
                    "d. todas son correctas"],
        correcta: 0
    },
{
        pregunta: "32. el tribunal de la UE comprendera",
        opciones: [ "a. el tribunal de justicia, el tribunal general y los tribunales especializados", 
                    "b. el tribunal de justicia y de 1 instancia", 
                    "c. el tribunal de justicia el de 1 instancia y el de proteccion de datos ", 
                    "d. todos los anteriores"],
        correcta: 0
    },
{
        pregunta: "33. el tribunal de la UE se pronunciara",
        opciones: [ "a. sobre los recursos interpuestos por un estado miembro o una institucion", 
                    "b. sobre los recursos interpuestos por personas fisicas o juridicas", 
                    "c. con caracter prejudicial aobre la interpretacion del derecho de la union", 
                    "d. todas son correctas"],
        correcta: 3
    },
{
        pregunta: "34. ¿que institucion europea goza en exclusividad de la iniciativa legislativa?",
        opciones: [ "a. el parlamento europeo", 
                    "b. la comision europea", 
                    "c. el consejo", 
                    "d. el tribunal de justicia de la UE"],
        correcta: 1
    },
{
        pregunta: "35. cuanto durara el mandato de los miembros de la comision europèa",
        opciones: [ "a. 5 años sin que puedan ser reelegidos ", 
                    "b. 3 años sin que puedan ser reelegidos", 
                    "c. 5 añoso pudiendo ser reelegidos", 
                    "d. 3 años pudiendo ser reelegidos"],
        correcta: 2
    },
{
        pregunta: "36. por que causas pueden cesar los miembros de la comision europea",
        opciones: [ "a. por cesacion del mandato , dimision voluntaria o fallecimiento", 
                    "b. cuando deje de reunir las condiciones necesarias para el ejercicio de sus funciones o haya cometido una falta grave podra ser cesado por el tribunal de justicia a instancia del consejo , por mayoria simple o de la comision", 
                    "c. cualquier miembro de la comision presentara su dimision si se lo pide el presidente ", 
                    "d. todas son correctas"],
        correcta: 0
    },
{
        pregunta: "37. el tribunal de justicia de la UE estara compuesto ",
        opciones: [ "a. por 5 abogados generales y dos jueces por estado miembro", 
                    "b. por 8 abogados generales y un juez por estado miembro", 
                    "c. la a es cierta si bien el consejo por una nimidad y a solicitud del tribunal puede aumentar el numero de abogados generales", 
                    "d. la b es cierta si bien el consejo por una nimidad y a solicitud del tribunal puede aumentar el numero de abogados generales"],
        correcta: 3
    },
{
        pregunta: "38. cual es la funcion de los abogados generales que forman parte del TJEU",
        opciones: [ "a. defender a los estados miembros acusados", 
                    "b. asesorar a los estados miembros", 
                    "c. presentar publicamente , con toda imparcialidad e independencia , conclusiones motivadas sobre asuntos que , de conformidad con el estado TJUE requiera su intervencion ", 
                    "d. todas son correctas"],
        correcta: 2
    },
{
        pregunta: "39. el TJUE podra actuar",
        opciones: [ "a. en sala , gran sala o pleno", 
                    "b. en sala , gran sala o comite", 
                    "c. en pleno y en gran sala", 
                    "d. ninguna es correcta"],
        correcta: 0
    },
{
        pregunta: "40. por que periodo de tiempo seran elegidos los miembros del Tgeneral UE",
        opciones: [ "a. 9 años", 
                    "b. 6 años ", 
                    "c. 3 años", 
                    "d. ninguna es correcta"],
        correcta: 1
    },
{
        pregunta: "41. el tribunal de cuenta de la UE",
        opciones: [ "a. es un organo del tribunal de justicia de la UE", 
                    "b. es una institucion que tiene encomendada la fiscalia y control de las cuentas de la UE", 
                    "c. tiene encomendada la discalizacion y control de las cuentas de la UE pero tiene el caracter de institucion", 
                    "d. dirige la politica monetaria de la union"],
        correcta: 1
    },
{
        pregunta: "42. las sentencias del tribunal de justicias de la UE",
        opciones: [ "a. no tendra fuerza ejecutiva salvo que asi lo dispongan", 
                    "b. no seran vinculante", 
                    "c. tendran fuerza ejecutiva", 
                    "d. tendran caracter de dictamenes"],
        correcta: 2
    },
{
        pregunta: "43. el tribunal de justicia de la UE no sera competente para pronunciarse",
        opciones: [ "a. sobre disposiciones relativas a politica exterior y de seguridad comun", 
                    "b. controlar la legalidad de los actos relativos ", 
                    "c. recursos por incomparecencia", 
                    "d. todas son correctas"],
        correcta: 0
    },
{
        pregunta: "44. el recurso de anulacion de control de legalidad contra el TJUE debera interponerse",
        opciones: [ "a. en el plazo de 2 meses desde que asi lo permita la comision", 
                    "b. en el plazo de 2 meses desde la publicacion del acto , de su notificacion al recurrente o a falta de ello , desde el dia en que este haya tenido conocimiento del mismo", 
                    "c. en el plazo de 3 meses desde que asi lo permita la comision", 
                    "d. en el plazo de 3 meses desde la publicacion del acto , de su notificacion al recurrente o a falta de ello , desde el dia en que este haya tenido conocimiento del mismo"],
        correcta: 1
    },
{
        pregunta: "45. en cuanto al recurso de legalidad , el TJUE sera competente para pronunciarse sobre la legalidad de un acto adoptado por el consejo europeo o por el consejo en virtud del ar 7 del TUE a peticion del estado miembro objeto de la constatacion del consejo eu esta peticion debe presentarse",
        opciones: [ "a. en el plazo de 1 mes a partir de la constatacion y el tribunal debe pronunciarse en el plazo de 2 meses desde la peticion", 
                    "b. en el plazo de 2 mes a partir de la constatacion y el tribunal debe pronunciarse en el plazo de 2 meses desde la peticion", 
                    "c. en el plazo de 1 mes a partir de la constatacion y el tribunal debe pronunciarse en el plazo de 1 meses desde la peticion", 
                    "d. ninguna es cierta"],
        correcta: 2
    },
{
        pregunta: "46. el recurso por carencia u omision de las instituciones de la ue ante el TJUE para que sea admitido sera necesario que",
        opciones: [ "a. la actuacion provenga del consejo, el parlamento o la comision", 
                    "b. se hubiere intentado previamente la solicitud ante la comision", 
                    "c. se hubiere requerido previamente a la institucion , organo u organismo", 
                    "d. ninguna es cierta"],
        correcta: 2
    },
{
        pregunta: "47. el recurso por incumplimiento de los estados ante el TJUE, antes de interponerse ante el mismo , debera someterse el asunto a ",
        opciones: [ "a. la comision eu", 
                    "b. el parlamento eu", 
                    "c. el consejo", 
                    "d. el consejo eu"],
        correcta: 0
    },
{
        pregunta: "48. el recurso por incumplimiento de los estado ante el TJUE si el tribunal de justicia de la ue declarare que un estado ha incumplido una obligacion ese estado estara obligado a adoptar medidas y si la incumpliere el tribunal",
        opciones: [ "a. la obligacion de adoptar las medidas bajo amenaza de expulsion de la union", 
                    "b. la suspension como miembro", 
                    "c. el pago de la suma a tanto alzado o de una multa coercitiva", 
                    "d. todas son correctas"],
        correcta: 2
    },
{
        pregunta: "49. quien ejecutara el presupuesto de la UE",
        opciones: [ "a. el consejo ", 
                    "b. el consejo eu", 
                    "c. la comision", 
                    "d. el parlamento"],
        correcta: 2
    },
{
        pregunta: "50. quienes estaran legitimados para interponer la cuestion prejudicial ante el TJUE",
        opciones: [ "a. cualquier persona fisica o juridica que tenga interes legitimo", 
                    "b. la comision eu ", 
                    "c. el tribunal general y los especializados ", 
                    "d. solo los organos jurisdiccionales de las estados miembros"],
        correcta: 3
    },


   

];

let preguntaActual = 0;
let aciertos = 0;
let fallos = 0;
let respondido = false;

function cargarPregunta() {
  const p = preguntas[preguntaActual];
  document.getElementById('pregunta').textContent = p.pregunta;

  const contenedorOpciones = document.getElementById('opciones');
  contenedorOpciones.innerHTML = '';

  p.opciones.forEach((texto, index) => {
    const div = document.createElement('div');
    div.className = 'opcion';
    div.textContent = texto;
    div.onclick = () => verificarRespuesta(div, index);
    contenedorOpciones.appendChild(div);
  });

  respondido = false;
}

function verificarRespuesta(elemento, indiceSeleccionado) {
  if (respondido) return;
  respondido = true;

  const p = preguntas[preguntaActual];
  const opciones = document.querySelectorAll('.opcion');

  opciones.forEach((op, i) => {
    if (i === p.correcta) {
      op.classList.add('correcta');
    }
    if (i === indiceSeleccionado && i !== p.correcta) {
      op.classList.add('incorrecta');
    }
  });

  if (indiceSeleccionado === p.correcta) {
    aciertos++;
    document.getElementById('aciertos').textContent = aciertos;
    document.getElementById("manita").textContent = '👍';
    agregarRegistro(`Pregunta ${preguntaActual + 1}: ✅ Acierto`, 'aciertos');
  } else {
    fallos++;
    document.getElementById('fallos').textContent = fallos;
    document.getElementById("manita").textContent = '👎';
    agregarRegistro(`Pregunta ${preguntaActual + 1}: ❌ Fallo`, 'fallos');
  }

  // Avanza a la siguiente pregunta automáticamente
  setTimeout(cargarSiguientePregunta, 1000); // espera 1 segundo
}

function agregarRegistro(texto, clase) {
  const registro = document.getElementById('registro');
  const p = document.createElement('p');
  p.textContent = texto;
  p.className = clase;
  registro.appendChild(p);
}

function cargarSiguientePregunta() {
  if (preguntaActual < preguntas.length - 1) {
    preguntaActual++;
    cargarPregunta();
  } else {
    alert("Fin del test.");
  }
}



// Inicia con la primera pregunta
cargarPregunta();