const preguntas = [
    {
        pregunta: "1. como finalidad de las penas privativas de libertad se señala en la constitucion ",
        opciones: ["a. la reeducacion y la reinsercion social del penado", "b. el arrepentimiento y reinsercion social", "c. la formacion profesional del penado y su arrepentimiento", "d. la formacion profesional y reeducacion del penado"],
        correcta: 0
    },
    {
        pregunta: "2. segun la CE se reconoce el derecho a de reunion pacifica y sin armas",
        opciones: ["A. con autorizacion previa", "B. no necesaria la autorizacion previa", "C.  es necesaria la autorizacion en los luares de transito publico", "D. no es necesario autorizacion previa, en casos de reuniones en lugares de transito publico y manifestaciones se dara comunicacion a la autoridad"],
        correcta: 3
    },
    {
        pregunta: "3. entre las funciones que en la CE se atribuyen al rey se encuentra la de",
        opciones: ["A. nombrar al presidente del gobierno sin previa tramites una vez conocido los resultados de las elecciones ", 
            "B. nombrar y separar a los miembros del gobierno a propuesta de su presidente", 
            "C. ejercer el derecho a gracia y conceder indultos generales ", 
            "D. las 3 son correctas"],
        correcta: 1
    },
    {
        pregunta: "4. en la sucesion al trono",
        opciones: ["A. dentro del mismo grado de parentezco se prefiere a la persona de mas edad a la de menos ", "B. dentro del mismo grado se prefiere al varon a la mujer", "C. de prefiere en todo caso a la persona de mas edad a la de menos", "D. se prefiere en todo caso al varon a la mujer"],
        correcta: 1
    },
    {
        pregunta: "5. de no existir persona a quien corresponda la regencia ¿que organo sera competente para nombrarla?",
        opciones: ["A. las cortes generales", "B. el gobierno", "C. las cortes y el gobierno", "D. las cortes generales o el gobierno"],
        correcta: 0
    },
    {
        pregunta: "6. el rey no puede",
        opciones: ["A. distribuir libremente al personal de su casa", "B. declarar la guerrqa a otros paises ni con la autorizacion de las cortes generales", "C. conceder indultos generales", "D. presidir las sesiones del consejo de ministros a peticion del presidente del gobierno"],
        correcta: 2
    },
    {
        pregunta: "7. la comision legislativa de las cortes generales ¿pueden aprobar las leyes organicas?",
        opciones: ["A. si, en todo caso", "B. no, en ningun caso", "C. solo con autorizacion de la mesa de la camara ", "D. solo con autorizacion de ambas camnaras por amyoria absoluta"],
        correcta: 1
    },{
        pregunta: "la iniciativa legislativa popular debe acompañarse de al menos",
        opciones: ["A. 300000 firmas", "B. 400000 firmas", "C. 500000 firmas", "D. 1000000 firmas"],
        correcta: 2
    },{
        pregunta: "9. cuando las cortes generales fijan unas directrices para que el gobierno las desarrolle mediante legislacion delegada, dichas directrices se plasman en una ley ",
        opciones: ["A. de autorizacion ", "B. organicas", "C. de bases", "D. de delegacion"],
        correcta: 2
    },{
        pregunta: "10. por cuantos diputados estan representados en el congreso de Ceuta y Melilla ",
        opciones: ["A. por un diputado cada una", "B. por un minimo inicoial de un diputado cada uno", "C. por dos cada una", "D. por un minimo inicial de dos diputados cada una "],
        correcta: 0
    },{
        pregunta: "11. por regla general, las actuaciones judiciales seran siempre",
        opciones: ["A. publicas", "B. gratuitas", "C. secretas", "D. gratuitas y publicas"],
        correcta: 0
    },{
        pregunta: "12. los proyectos de ley enviados a las cortes son presentados por el gobierno",
        opciones: ["A. en la mesa de las cortes", "B. en la mesa del congreso", "C. en la mesa del senado", "D. en el texto originalde la mesa del congreso y una exposicion motivada de la mesa del senado "],
        correcta: 1
    },{
        pregunta: "13. segun la CE, en que plazo sancionara el rey las leyes",
        opciones: ["A. en el plazo de 15 dias y las promulgara y ordenara su inmediata publicacion", "B. en el plazo de 15 dias y las promulgara y ordenara su publicacion en los 10 dias siguientes", "C. en un plazo de 10 dias y promulgara y ordenara su inmediata publicacion", "D. en el plazo de 10 dias y las promulgara y ordenara su publicacion en los 15 dias siguientes "],
        correcta: 0
    },{
        pregunta: "14. segun la CE comprenderan en todo caso como causas de inelegibilidad e incompatibilidad de los diputados y senadores",
        opciones: ["A. componentes y asesores del TC", "B. altos cargos de la administracion del estado y miembros de gobierno", "C. el defensor del pueblo", "D. todas son correctas"],
        correcta: 2
    },{
        pregunta: "15. segun la CE el congreso el senado y ambas camaras conjuntamente podran nombrar comisiones de investigacion",
        opciones: ["A. sobre cualquier asunto de interes publico", "B. sus conclusiones seran vinculantes para los tribunales ", "C. sus conclusiones afectaran a las resoluciones judiciales", "D. todas son correctas"],
        correcta: 0
    },{
        pregunta: "16. las comisiones legislativas de las cortes generales",
        opciones: ["A. solamente debaten los proyectos y proposiciones de ley, pero su aprobacion se somete a pleno de las camaras ", "B. pueden aprobar todos los proyectos de leyu sin necesidad de limitacion alguna", "C. pueden aprobar proyectos y proposiciones de ley, son de cierta limitacion o prohibiciones establecidas en el reglamento  de cada camara pero no en la CE", "D. puede aprobar proyectos y provisiones de ley con ciertas limitaciones o prohibiciones previstas expresamente en la CE"],
        correcta: 3
    },{
        pregunta: "17. segun la CE sera obligatorio comparrecer a requerimienrto de las camaras",
        opciones: ["A. no salvo que lo establezca en la ley", "B. si", "C. si y la regulara las sanciones que puedan interponerse por incumplimiento de esta obligacion", "D. ninguna es correcta"],
        correcta: 2
    },{
        pregunta: "18. en el caso de que un RD ley no llegue a convalidarse en el plazo de que se dispone para ello",
        opciones: ["A. el gobierno esta obligado a dictar otro, en el plazo lo mas breve posible", "B. las cortes estan obligadas a dictar una ley que lo sustituya, en el plaxo mas breve posible", "C. el decreto-ley perderia toda su vigencia", "D. son correcta la a y la c"],
        correcta: 2
    },{
        pregunta: "19. los sindicatos de trabajadores y las asociaciones empresariales deben contribuir a la",
        opciones: ["A. formacion de partidos politicos", "B. eleccion de diputados y senadores", "C. defensa y promocion de los intereses economicos y sociales que le son propios", "D. son ciertas la a y c"],
        correcta: 2
    },{
        pregunta: "20. el rey covocara el congreso de los diputados",
        opciones: ["A. dentro de los 25 dias siguientes a la celebracion de las elecciones", "B. dentro de los 20 dias siguientes a la celebracion de las elecciones", "C. dentro de los 15 dias siguientes a las elecciones", "D. no es funcion del rey convocar el congreso"],
        correcta:0
    },{
        pregunta: "21. la continuidad e las cortes generales se logra por medio de la existencias de las llamadas",
        opciones: ["A. comisiones legislativas", "B. comisiones permanentes", "C. diputaciones permanentes", "D. mesa permanente"],
        correcta: 2
    },{
        pregunta: "22. la CE la camara pueden recibir peticiones",
        opciones: ["A. individual o colectivas", "B. vervales o por escritos", "C. por presentacion directa por manifestacion ciudadana", "D. todas son correctas"],
        correcta: 0
    },{
        pregunta: "23. puede obstentarse el cargo de rey siendo menor de edad",
        opciones: ["A. si", "B. si pero para ello se precisa de la autorizacion de las cortes", "C. no porque el rey sera en todo caso el regente", "D. no porque el rey sera el tutor "],
        correcta: 0
    },{
        pregunta: "24. segun la CE la soberania reside en",
        opciones: ["A. la corona", "B. el gobierno", "C. la nacion", "D. el pueblo español"],
        correcta: 3
    },{
        pregunta: "25. se puede interponer recurso de amparo ante el tribunal constitucional con el fin de defender los siguientes derechos",
        opciones: ["A. los recogidos den le titulo preliminal", "B. los recogidos en el capitulo 2 del titulo 1", "C. en el ar 14 la seccion 2 del capitulo 1", "D. las de ar 14 seccion 1 capitulo 2 y del ar 30"],
        correcta: 3
    },{
        pregunta: "26. puede existir discrepancias entre los derechos recogidos en la CE y los establecidos en la declaracion universal de derechos humanos",
        opciones: ["A. si, el catalogo de los derechos recogidos en la CE es mas amplio", "B. no. todas las normas internacionales estan supeditadas a la CE ", "C. si por que la CE tiene mayor rango normativo", "D. no. por que todas las normas que afecten a los derechos y libertades han de ser interpretados conforme a la declaracion de derechos fundamentales"],
        correcta: 3
    },{
        pregunta: "27. puede un español de origen ser privado de su nacionalidad",
        opciones: ["A. si por adquisicion de otra distinta", "B. si por matrimonio y residencia con una persona de otro pais", "C. no no se puede ser privado por los poderes publicos", "D. no salvo que se haya fugado fuera de españá"],
        correcta: 2
    },{
        pregunta: "28. la forma politica del estado español es ",
        opciones: ["A. social y democratico", "B. monarquia parlamentaria", "C. monarquia constitucional", "D. estado autonomico"],
        correcta: 1
    },{
        pregunta: "29. que es el habeas corpus",
        opciones: ["A. un procedimiento judicial utilizado en caso de vulnerabilidad de un derecho fundamental", "B. un procedimiento judicial dispuesto para los casos de tortura", "C. procedimiento que impide la vulnerabilidad de los derechos de igualdad ", "D. es un proceso judicial que impide detenciones ilegales"],
        correcta: 3
    },{
        pregunta: "30. la detencion preventiva no puede durar mas ",
        opciones: ["A. 48h", "B. 72h", "C. mas del tiempo extrictamente necesario para el esclarecimiento de los hechos", "D. 24h"],
        correcta: 2
    },{
        pregunta: "31. la inmediata puesta a disposicion judicial por el habeas corpus se produce ",
        opciones: ["A. detencion ilegal", "B. prision ilegal", "C. prision preventiva", "D. detencion preventiva"],
        correcta: 0
    },{
        pregunta: "32. no es susceptible de amparo",
        opciones: ["A. libertad de catedra", "B. negociacion colectiva", "C. manifestacion", "D. huelga"],
        correcta: 1
    },{
        pregunta: "33. segun la CE la reina consorte o el consorte de la reina",
        opciones: ["A. no podran asumir funciones constitucionales en ningun caso", "B. no podra asumir funciones constitucionales salvo lo dispuesto en la regencia", "C. podra asumir funciones constitucionales", "D. no se regula dicho papel en la CE"],
        correcta: 1
    },{
        pregunta: "34. aun cuando la CE se reconoce el derecho de asociacion se prohiben expresamente las asociaciones",
        opciones: ["A. secretas", "B. de caracter paramilitar", "C. con fines de lucro", "D. secretas y de caracter paramilitar"],
        correcta: 3
    },{
        pregunta: "35. segun el ar 18 de la CE",
        opciones: ["A. el domicilio es inviolable, ninguna entrada o registro podra hacerse en el sin el consentimiento del titular o resolucion judicial salvo en los casos de terrorismo", "B. el domicilio es inviolable, ninguna entrada o registro podra hacerse en el sin el consentimiento del titular o resolucion judicial salvo en los casos de flagrante delito", "C. el domicilio es inviolable, ninguna entrada o registro podra hacerse en el sin el consentimiento del titular o resolucion judicial salvo en los casos establecidos en ley", "D. el domicilio es inviolable, salvo resolucion judicial"],
        correcta: 1
    },{
        pregunta: "36. segun la CE cual de los siguientes son ilegales",
        opciones: ["A. las que no esten inscritas en el registros", "B. las disueltas por resolucion judicial motivada", "C. las secretas o caracter paramilitar", "D. las que persigan fines o utilicen medios tipificados como delito"],
        correcta: 3
    },{
        pregunta: "37. segun la CE en que principio esta inspirado nuestro sistema tributario",
        opciones: ["A. progresividad y capacidad economica", "B. igualdad y eficiencia", "C. igualdad y progresividad", "D. eficiencia y economia"],
        correcta: 2
    },{
        pregunta: "38. segun la CE en cuanto los colegios profesionales",
        opciones: ["A. la estructura interna y funcionamiento se establece legalmente", "B. la estructura interna y funcionamiento son libres dentro del respeto a la ley", "C. la estructura interna y funcionamiento deberian ser democraticos", "D. todas son correctas"],
        correcta: 2
    },{
        pregunta: "39. segun la CE quien sera el tutor del rey menor",
        opciones: ["A. el padre o madre mientras permanezcan viudos", "B. las personas que nombre el rey difunto en su testamento, siempre que sea español yu mayor de edad", "C. la persona nombrada por las cortes", "D. el regente"],
        correcta: 1
    },{
        pregunta: "40. segun la CE cuales son las competencias de las cortes generales",
        opciones: ["A. ejercer la potestad legislativa", "B. controlar la accion del gobierno", "C. las que les atribuya las CE", "D. todas"],
        correcta: 3
    },{
        pregunta: "41. segun la CE ¿cuando finaliza el mandato de los diputados y de los senadores?",
        opciones: ["A. 4 años despues de su eleccion", "B. la A es correcta y ademas tambien al finalizar el dia de la disolucion de las camaras", "C. la A es correcta y ademas tambien una vez disuelta la camara sea covocado el congreso electo", "D. ninguna es correcta"],
        correcta: 1
    },{
        pregunta: "42. segun la CE cuando tendra lugar las elecciones para el confreso de los diputados",
        opciones: ["A. entre los 30 y 60 dais desde la terminacion del mandato", "B. entre 20 y 40 dias desde la terminacion del mandato", "C. 25 dias despues d ela termiancion del mandato", "D. ninguna es cierta"],
        correcta: 0
    },{
        pregunta: "43. segun la CE cuantos senadores seran elegidos por cada provincia",
        opciones: ["A. 4 ademas las CCAA designaran 2 mas por cada millon de habitantes", "B. 4 ademas las CCAA designaran 1 y uno mas por cada millon de habitantes", "C. 3 ademas las CCAA designaran 2 mas por cada millon de habitantes", "D. 3 ademas CCAA designaran un senador y otro por cada millon de habitantes"],
        correcta: 1
    },{
        pregunta: "44. segun CE cuando podran ser detenidos los diputados y senadores ",
        opciones: ["A. en los mismos casos que un ciudadano español no obstenta el privilegio salvo el hecho de ser enjuiciadopor el TS ", "B. cuando haya autorizacion de la camara respectiva", "C. en ningun caso mientras dure el mandato", "D. en caso de flagrante delito"],
        correcta: 3
    },{
        pregunta: "45. segun la CE cuando podran las camaras reunirse en sesiones extraordinarias",
        opciones: ["A. a peticion del gobierno", "B. a peticion de la diputacion permanente", "C. a peticion de la mayoria absoluta de los miembros de cuaqiera de las camaras", "D. todas son correctas"],
        correcta: 3
    },{
        pregunta: "46. segun la CE en cada camara habra una diputacion permanente",
        opciones: ["A. compuesta por un minimo de 21 miembros que representan a los grupos parlamentarios", "B. compuesta por un maximo de 21 miembros que representan a los grupos parlamentarios", "C. por un minimo de 21 miembros que representan a las camaras respectivas", "D. por un maximo de 21 que representan a la camara respectiva "],
        correcta: 0
    },{
        pregunta: "47. segun la CE las sesiones plenarias de las camaras",
        opciones: ["A. seran publicas en todo caso", "B. seran publicas salvo acuerdo en contrario de cada camara adoptando por la mayoria absoluta o con arreglo al reglamento", "C. B. seran publicas salvo acuerdo en contrario de cada camara adoptando por la mayoria simple o con arreglo al reglamento", "D. seran publicas salvo los casos establecidos en la ley o en reglamento"],
        correcta: 1
    },{
        pregunta: "48. segun la CE sometido al senado un proyecto de ley por el congreso de los diputados",
        opciones: ["A. el senado podra a plazo de 3 meses oponer veto e introducir enmienda", "B. el senado podra en el plazo de 2 meses oponer el vetyo e introducir enmienda", "C. la a es correcta salvo en proyectos de declaracion urgente", "D. la b es correcta salvo en proyectos de declaracion urgente por el gobierno o el congreso de los diputados que se reduce a 20 dias naturales"],
        correcta: 3
    },{
        pregunta: "49. segun la CE si no hay ninguna persona para la regencia ",
        opciones: ["A. sera nombrada por el congreso", "B. sera nombrada por el senado", "C. sera nombrada por el gobienro", "D. sera nombrado por las cortes "],
        correcta: 3
    },{
        pregunta: "50. segun la CE las reuniones parlamentarias que se celebren sin convocatoria reglamentaria",
        opciones: ["A. no vincularan a las camaras", "B. no podran ejercer funciones", "C. no obstentar privilegios", "D. todas son correctas"],
        correcta: 3
    },
   

];

let preguntaActual = 0;
let aciertos = 0;
let fallos = 0;
let respondido = false;

function cargarPregunta() {
  const p = preguntas[preguntaActual];
  document.getElementById('pregunta').textContent = p.pregunta;

  const contenedorOpciones = document.getElementById('opciones');
  contenedorOpciones.innerHTML = '';

  p.opciones.forEach((texto, index) => {
    const div = document.createElement('div');
    div.className = 'opcion';
    div.textContent = texto;
    div.onclick = () => verificarRespuesta(div, index);
    contenedorOpciones.appendChild(div);
  });

  respondido = false;
}

function verificarRespuesta(elemento, indiceSeleccionado) {
  if (respondido) return;
  respondido = true;

  const p = preguntas[preguntaActual];
  const opciones = document.querySelectorAll('.opcion');

  opciones.forEach((op, i) => {
    if (i === p.correcta) {
      op.classList.add('correcta');
    }
    if (i === indiceSeleccionado && i !== p.correcta) {
      op.classList.add('incorrecta');
    }
  });

  if (indiceSeleccionado === p.correcta) {
    aciertos++;
    document.getElementById('aciertos').textContent = aciertos;
    document.getElementById("manita").textContent = '👍';
    agregarRegistro(`Pregunta ${preguntaActual + 1}: ✅ Acierto`, 'aciertos');
  } else {
    fallos++;
    document.getElementById('fallos').textContent = fallos;
    document.getElementById("manita").textContent = '👎';
    agregarRegistro(`Pregunta ${preguntaActual + 1}: ❌ Fallo`, 'fallos');
  }

  // Avanza a la siguiente pregunta automáticamente
  setTimeout(cargarSiguientePregunta, 1000); // espera 1 segundo
}

function agregarRegistro(texto, clase) {
  const registro = document.getElementById('registro');
  const p = document.createElement('p');
  p.textContent = texto;
  p.className = clase;
  registro.appendChild(p);
}

function cargarSiguientePregunta() {
  if (preguntaActual < preguntas.length - 1) {
    preguntaActual++;
    cargarPregunta();
  } else {
    alert("Fin del test.");
  }
}



// Inicia con la primera pregunta
cargarPregunta();