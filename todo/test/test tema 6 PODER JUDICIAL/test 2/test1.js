const preguntas = [
    {
        pregunta: "1. cuando un organo judicial considere, en algun proceso , que una norma con rango de ley , aplicable al caso , de cuya validez dependa el fallo, pueda ser contraria a la CE planteara",
        opciones: [ "a. recurso de inconstitucionalidad", 
                    "b. el recurso de amparo", 
                    "c. la cuestion de incunstitucionalidad", 
                    "d. ninguna es correcta"],
        correcta: 2
    },{
        pregunta: "2. en todos los casos en que , segun la ley proceda recurso de casacion",
        opciones: [ "a. sera suficiente para fundamentarlo la infraccion de precepto legal", 
                    "b. Sera suficiente para fundamentarlo la infraccion de procepto constitucional ", 
                    "c. sera suficiente para fundamentar la infraccion de la LOPJ ", 
                    "d. todas son correctas"],
        correcta: 1
    },
{
        pregunta: "3. seÃ±ale la respuesta incorrecta en relacion con el recurso de revision regulado en la LOPJ",
        opciones: [ "a. se podra interponer ante el TS contra una resolucion judicial que no sea firme", 
                    "b. se podra interponer cuando el tribunal europeo de derechos humanos ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },
{
        pregunta: "1. ",
        opciones: [ "a. ", 
                    "b. ", 
                    "c. ", 
                    "d. "],
        correcta: 0
    },


   

];

let preguntaActual = 0;
let aciertos = 0;
let fallos = 0;
let respondido = false;

function cargarPregunta() {
  const p = preguntas[preguntaActual];
  document.getElementById('pregunta').textContent = p.pregunta;

  const contenedorOpciones = document.getElementById('opciones');
  contenedorOpciones.innerHTML = '';

  p.opciones.forEach((texto, index) => {
    const div = document.createElement('div');
    div.className = 'opcion';
    div.textContent = texto;
    div.onclick = () => verificarRespuesta(div, index);
    contenedorOpciones.appendChild(div);
  });

  respondido = false;
}

function verificarRespuesta(elemento, indiceSeleccionado) {
  if (respondido) return;
  respondido = true;

  const p = preguntas[preguntaActual];
  const opciones = document.querySelectorAll('.opcion');

  opciones.forEach((op, i) => {
    if (i === p.correcta) {
      op.classList.add('correcta');
    }
    if (i === indiceSeleccionado && i !== p.correcta) {
      op.classList.add('incorrecta');
    }
  });

  if (indiceSeleccionado === p.correcta) {
    aciertos++;
    document.getElementById('aciertos').textContent = aciertos;
    document.getElementById("manita").textContent = 'ð';
    agregarRegistro(`Pregunta ${preguntaActual + 1}: â Acierto`, 'aciertos');
  } else {
    fallos++;
    document.getElementById('fallos').textContent = fallos;
    document.getElementById("manita").textContent = 'ð';
    agregarRegistro(`Pregunta ${preguntaActual + 1}: â Fallo`, 'fallos');
  }

  // Avanza a la siguiente pregunta automÃ¡ticamente
  setTimeout(cargarSiguientePregunta, 1000); // espera 1 segundo
}

function agregarRegistro(texto, clase) {
  const registro = document.getElementById('registro');
  const p = document.createElement('p');
  p.textContent = texto;
  p.className = clase;
  registro.appendChild(p);
}

function cargarSiguientePregunta() {
  if (preguntaActual < preguntas.length - 1) {
    preguntaActual++;
    cargarPregunta();
  } else {
    alert("Fin del test.");
  }
}



// Inicia con la primera pregunta
cargarPregunta();