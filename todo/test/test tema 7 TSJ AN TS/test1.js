const preguntas = [
    {
        pregunta: "1. conocera el recurso de casacion para la ratificacion de doctrina una seccion de los contencioso-administrativo del TS , la cual estara formado por",
        opciones: [ "a. el presidente del TS , el presidente de la sala de lo contencioso administrativo y 5 magistrados , los 2 mas modernos y los 3 mas antiguos", 
                    "b. el presidente de la sala de lo contencioso administrativo y 5 magistrados los 2 mas antiguos y los 3 mas modernos", 
                    "c. el presidente del TS , el presidente de la sala de lo contencioso administrativo y 5 magistrados , los 2 mas antiguos y los 3 mas modernos", 
                    "d. el presidente de la sala de lo contencioso administrativo y 5 magistrados los 2 mas modernos y los 3 mas antiguos"],
        correcta: 2
    },{
        pregunta: "2. conocera los incidentes de recusacion de los magistrados de la sala de lo penal de la audiencia nacional",
        opciones: [ "a. una sala formada por el presidente de la audiencia , los presidentes de sala y el magistrado mas antiguo y el mas moderno de cada una", 
                    "b. una sala de lo penal", 
                    "c. una sala formada por el presidente de la audiencoa , los presidentes de sala y el magistrado mas moderno de cada sala", 
                    "d. ninguna es cierta"],
        correcta: 1
    },
{
        pregunta: "3. la prohibicion o la propuesta de la modificacion de reuniones en la LO reguladora del derecho a reunion sera competencia de",
        opciones: [ "a. los juzgado de lo contencioso-administrativos", 
                    "b. los juzgado de lo contencioso-administrativos del TS", 
                    "c. los juzgado de lo contencioso-administrativos de la AN", 
                    "d. los juzgado de lo contencioso-administrativos de los TSJ"],
        correcta: 3
    },
{
        pregunta: "4. conocera de los recursos que establezca la ley contra resoluciones en materias penal dictada por los juzgado de violencia sobre la mujer de la provincia",
        opciones: [ "a. una seccion espècial del TSJ de la CCAA", 
                    "b. la audiencia provincial", 
                    "c. no existe ese tipo de recurso", 
                    "d. ninguna es cierta"],
        correcta: 1
    },
{
        pregunta: "5. las salas de gobierno del TS estara constituido por ",
        opciones: [ "a. el presidente de dicho organo , los presidentes de sala y un numero de magistrados y jueces igual al de estos", 
                    "b. el presidente de dichos organos los presidentes de sala y el magistrado mas antiguo y el mas moderno de cada sala", 
                    "c. el presidente de dichos organos y los presidentes de sala y un numero de magistrados igual al de estos", 
                    "d. ninguna es cierta"],
        correcta: 2
    },
{
        pregunta: "6. los miembros electos de la sala de gobierno de la AN se renovara en su totalidad",
        opciones: [ "a. 5 años", 
                    "b. 4 años", 
                    "c. 3 años", 
                    "d. 2 años"],
        correcta: 0
    },
{
        pregunta: "7. de que tribunal es la sala de gobierno que se puede constituir en pleno o comision",
        opciones: [ "a. de la AN", 
                    "b. TSJ", 
                    "c. TS", 
                    "d. de las audiencia provinciales"],
        correcta: 1
    },
{
        pregunta: "8. de la peticion de ejecucion de sentencia dictadas por tribunales extranjeros conoce",
        opciones: [ "a. la sala 2 del TS ", 
                    "b. la sala 2 de la AN ", 
                    "c. la sala 1 de la AN ", 
                    "d. la sala 1 del TS "],
        correcta: 1
    },
{
        pregunta: "9. conocera de los contencioso-administrativo contra actos emanados de ministros y secretarios de estado",
        opciones: [ "a. la sala de lo contencioso-administrativo del TS", 
                    "b. la sala de lo contencioso-administrativo de la AN ", 
                    "c. la sala de lo contencioso-administrativo del TSJ correspondiente", 
                    "d. la sala especial del TS"],
        correcta: 1
    },
{
        pregunta: "10. conocera de los recursos contencioso electoral contra acuerdos de proclamacion de electos y proclamaciones de presidencia de corporaciones locales",
        opciones: [ "a. la sala del TS", 
                    "b. la sala de la AN", 
                    "c. la sala contenciosa del TSJ", 
                    "d. ninguna es cierta"],
        correcta: 2
    },
{
        pregunta: "11. conocera de la extradicion pasiva",
        opciones: [ "a. la sala de lo penal del TS", 
                    "b. la sala de lo penal de la AN", 
                    "c. la sala civil y penal TSJ", 
                    "d. ninguna es competente"],
        correcta: 1
    },
{
        pregunta: "12. de los procesos de impugnacion de convenios entre administraciones publicas con ambito superior a una CCAA conocera",
        opciones: [ "a. la sala de lo social de la AN ", 
                    "b. la sala de lo social del TS", 
                    "c. la sala de lo contenciosa administrativa del TS ", 
                    "d. la sala de lo contenciosa administrativa de la AN"],
        correcta: 3
    },
{
        pregunta: "13. de la revision de sentencias firmes de los juzgados de lo contencioso-administrativo conocera",
        opciones: [ "a. la sala 3 del TS", 
                    "b. la sala de lo 2 de la AN", 
                    "c. la sala contenciosa del TSJ", 
                    "d. ninguna es correcta"],
        correcta: 2
    },
{
        pregunta: "14. el tribunal supremo es ",
        opciones: [ "a. uno de los 3 organos jurisdiccionales superiores", 
                    "b. el organo jurisdiccional superior en todos los organos", 
                    "c. el organo jurisdiccional superior en todos los ordenes , salvo lo dispiesto en materia civil", 
                    "d. el organo superior en todos los ordenes , salvo lo dispuesto en materia de garantias constitucionales "],
        correcta: 3
    },
{
        pregunta: "15. de los recursos contencioso-administrativo que se promuevan contra actos y disposiciones emanadas del consejo de ministros conoce",
        opciones: [ "a. la sala primera del TS", 
                    "b. la sala segunda del TS", 
                    "c. la sala de lo contencios-administrativo del TS", 
                    "d. la sala de lo contencios-administrativo de la AN"],
        correcta: 2
    },
{
        pregunta: "16. de la demanda de responsabilidad civil que se dirijan contra el presidente de una sala del TS , conocera",
        opciones: [ "a. la sala de gobierno del TS", 
                    "b. la sala especial del TS", 
                    "c. la sala de lo civil del TS", 
                    "d. el TS en pleno"],
        correcta: 1
    },
{
        pregunta: "17. las audiencias provinciales no resuelven en materia penal",
        opciones: [ "a. recurso contra las resoluciones de juzgados de vigilancia penitenciarias ", 
                    "b. recurso contra las resoluciones de juzgado de 1 instancia ", 
                    "c. recurso contra las resoluciones del juzgado de lo penal ", 
                    "d. cuestiones de competencia entre juzgados de menores provinciales"],
        correcta: 1
    },
{
        pregunta: "18. la audiencia nacional ¿se estructura en salas?",
        opciones: [ "a. si la 1 y la 3", 
                    "b. no, solo se estructura en secciones", 
                    "c. si, cuando el numero de asunto lo aconseje , puede crearse 2 o mas secciones dentro de una sala", 
                    "d. solo una estructurada en salas la audiencia provincial"],
        correcta: 2
    },
{
        pregunta: "19. quien juzga los delitos contra la corona",
        opciones: [ "a. el TS", 
                    "b. la audiencia nacional ", 
                    "c. los juzgados nacionales de lo penal ", 
                    "d. el tribunal superior competente"],
        correcta: 1
    },
{
        pregunta: "20. que organo conoce de una demanda de responsabilidad civil contra el defensor del pueblo ",
        opciones: [ "a. la sala 1 del TS", 
                    "b. la sala civil del tribunal superior de la CCAA en que sucede los hechos", 
                    "c. el tribunal de 1 instancia competente por razondes del territorio", 
                    "d. la sala civil de la audiencia nacional"],
        correcta: 0
    },
{
        pregunta: "21. cual de estos organos jurisdiccionales carece de sala de gobierno",
        opciones: [ "a. audiencia nacional", 
                    "b. audiencia provincial", 
                    "c. TS", 
                    "d. TSJ"],
        correcta: 1
    },
{
        pregunta: "22. la audiencia nacional , tendra jurisdiccion en todo el territorio español",
        opciones: [ "a. no, solo en las provincias que no hubiere audiencia provincial ", 
                    "b. no, solo tiene jurisdiccion donde tiene su sede", 
                    "c. si, ya que tiene jurisdiccion en toda españa", 
                    "d. todas son falsas"],
        correcta: 2
    },
{
        pregunta: "23. el presidente del TS es nombrado",
        opciones: [ "a. por el consejo de ministro", 
                    "b. por el CGPJ", 
                    "c. por el REY", 
                    "d. las 3 son verdaderas"],
        correcta: 2
    },
{
        pregunta: "24. las audiencias provinciales se componen",
        opciones: [ "a. sala de lo civil y sala de lo penal ", 
                    "b. sala de lo civil conpuesta por secciones", 
                    "c. tribunal del jurado", 
                    "d. en secciones civil , penal y tribunal del jurado"],
        correcta: 3
    },
{
        pregunta: "25. en caso de las causas por delitos , cuales compèten a la audiencia provinciales",
        opciones: [ "a. todas", 
                    "b. solo las que no se pueden resolver en un juzgado de lo penal ", 
                    "c. todas excepto las que la ley atruibuye al conocimiento del juez de lo penal", 
                    "d. todas , excepto las que la ley atribuye al conocimiento del juez de lo penal o de otros tribunales"],
        correcta: 3
    },
{
        pregunta: "26. el tribunal supremo , ademas dispondra de otra sala adicional para...",
        opciones: [ "a. ver los asuntos de recusacion que le afecten al presindente del TS o de los presidentes de sala o de mas 2 magistrados de una sala", 
                    "b. esta formada por el presidente del TS los presidentes de sala y el magistrado mas antiguo y el mas moderno de cada una de ellas y conoce de las pretensiones de declaracion de error judicial cuando este se impute a una sala del TS", 
                    "c. esta formada por el presidente del TS los presidentes de sala y el magistrado mas antiguo y el mas moderno de cada una de ellas y conoce de los procesos de declaracion de ilegalidad y consecuente disolucion de los partidos politicos", 
                    "d. la b y la c son ciertas "],
        correcta: 3
    },
{
        pregunta: "27. con respecto a los juzgados de vigilancia penitenciaria , señale la respuesta incorrecta ",
        opciones: [ "a. podran extender su jurisdiccion a dos o mas provincias de la misma CCAA", 
                    "b. su jurisdiccion podra no extenderse a toda la provincia ", 
                    "c. tendran las funciones jurisdiccionales previstas en el codigo penal", 
                    "d. todas las respuestas anteriores son correctas"],
        correcta: 2
    },
{
        pregunta: "28. esa sala adicional del tribunal supremo , tiene una secion ...",
        opciones: [ "a. conocera del recurso de casacion para la unificacion de doctrinas cuando la contradiccion se produzca entre sentencias dictadas en unica instancia por secciones distintas de la sala de lo contenciosa-administrativa", 
                    "b. esta formada por el presidente del TS el de la sala de lo contencioso-administrativa y 5 magistrados de esta misma sala , que seran los dos mas antiguos y los tres mnas modernos", 
                    "c. a y b son ciertas", 
                    "d. todas son falsas"],
        correcta: 2
    },
{
        pregunta: "29. la audiencia nacional tambien tiene una sala especial",
        opciones: [ "a. si , y tambien esta formada por el presidente de la audiencia nacional , por los presidentes de sala y el magistrado mas antiguo y el mas moderno de cada uno de las salas ", 
                    "b. si y conocera de los incidentes de recusacion del presidente , de los presidentes de sala o de mas de 2 magistrados de una de ella ", 
                    "c. ninguna es cierta ", 
                    "d. la a y la b son ciertas"],
        correcta: 3
    },
{
        pregunta: "30. las audiencias provinciales conoceran en el orden penal",
        opciones: [ "a. de los recursos que establezcan la ley contra las resoluciones dictadas por los juzgados de instruccion y de lo penal de la provincia", 
                    "b. de los recursos que establezca la ley contra las resoluciones de los juzgados de vigilancia penitenciaria , cuando la competencia corresponda a la sala de lo penal de la audiencia nacional", 
                    "c. de los recursos que establezca la ley contra las resoluciones en materia penal dictada por los juzgados de violencia sobre la mujer de la provincia", 
                    "d. todas son ciertas"],
        correcta: 3
    },
{
        pregunta: "31. de los incidentes de recusacion de los presidentes de salas de la AN conocera",
        opciones: [ "a. la sala de apelacion", 
                    "b. la sala de lo penal", 
                    "c. la sala de lo social", 
                    "d. ninguna es correcta"],
        correcta: 3
    },
{
        pregunta: "32. seran competente de la tramitacion de los expedientes de extradicion pasiva",
        opciones: [ "a. la sala de lo penal de la audioencia nacional", 
                    "b. el TSJ como la sala de lo penal", 
                    "c. la sala de lo penal del TS", 
                    "d. ninguna de las anteriores"],
        correcta: 3
    },
{
        pregunta: "33. de los recursos que se deduzcan , en unica instancia , en relacion con la prohibicion de reuniones previstas en la LO reguladora del derecho de reunion conocera",
        opciones: [ "a. la sala de lo civil", 
                    "b. la sala de lo penal ", 
                    "c. la sala de lo contencioso administrativo", 
                    "d. la sala de lo social"],
        correcta: 2
    },
{
        pregunta: "34. de los recursos de revision contra las sentencias dictadas en unica instancia por la sala de lo contencioso administrativo del TS conocera",
        opciones: [ "a. la sala de lo civil del TS", 
                    "b. la audiencia nacional", 
                    "c. una sala especial del TS", 
                    "d. ninguna es correcta"],
        correcta: 2
    },
{
        pregunta: "35. de las cesiones de jurisdiccion en materia penal derivada del cumplimiento de tratados internacionales en los que españa sea parte conocedora",
        opciones: [ "a. la sala de lo penal del TS", 
                    "b. la sala especial del TS regulada en el ar 61 de la LOPJ", 
                    "c. la sala de lo penal de la AN", 
                    "d. la sala de gobierno del TS"],
        correcta: 2
    },
{
        pregunta: "36. el presidente de la audiencia nacional ",
        opciones: [ "a. tendra la categoria de magistrado del TS", 
                    "b. tendra la consideracion de magistrado del TS", 
                    "c. tendra la consideracion de presidente de sala del TS ", 
                    "d. tendra la categoria de magistrado y consideracion de magistrado del TS"],
        correcta: 2
    },
{
        pregunta: "37. la sala especial del TS, prevista en el ae 61 de la LOPJ se compone de",
        opciones: [ "a. el presidente del constitucional , presidente de sala y magistrado mas antiguo y mas moderno de cada una de ellas", 
                    "b. el presidente de la sala 3 , de los presidentes de la salas y de 4 magistrados", 
                    "c. el presidente del TS , presidente de sala y el magistrado mas antiguo o mas moderno de cada una de ellas", 
                    "d. el presidente del CGPJ y 12 magistrados elegidos por el pleno"],
        correcta: 2
    },
{
        pregunta: "38. en los casos de una causa criminal contra las personas aforadas conocera la sala especial del ar 61 de LOPJ",
        opciones: [ "a. en ningun caso ; de estas causas conoce en todo caso la sala penal del TS", 
                    "b. cuando se dirija contra predisdente de sala del TS o contra todos o la mayor parte de los magistrados de una sala", 
                    "c. cuando se dirijan contra el presidente de sala del TS o contra 2 o mas magistrados de una sala ", 
                    "d. cuando se dirija contra presidente de sala del TS , discal de sala o secretario de sala"],
        correcta: 1
    },
{
        pregunta: "39. la sala civil y penal del los TSJ conoceran de las demandas de responsabilidad civil por hechos cometidos en el ejercicio de sus cargos , dirigidos contra",
        opciones: [ "a. presidente de la CCAA , cuando segun el estatuto de autonomia tal atribucion no corresponda al TS", 
                    "b. miembros del consejo de gobierno de la CCAA en todo caso", 
                    "c. presidnete de la asamblea legislativa de la CCAA en todo caso", 
                    "d. todas son correctas"],
        correcta: 0
    },
{
        pregunta: "40. la sala especial del TSJ prevista en el ar 77 LOPJ esta formada por el presidente del tribunal y ",
        opciones: [ "a. el presidente de sala", 
                    "b. el presidente de sala y magistrado mas moderno y mas antiguo de cada sala ", 
                    "c. presidente de sala y magistrado mas moderno de cada sala", 
                    "d. presidente de sala y el magistrado mas antiguo de cada sala"],
        correcta: 2
    },
{
        pregunta: "41. la audiencia provincial en el orden jurisdiccional penal , se constituira con un solo magistrado ",
        opciones: [ "a. para el enjuiciamientos de delitos menores", 
                    "b. para la resolucion de incidentes de recusacion de magistrados de la propia audiencia", 
                    "c. para la resolucion de recursos contra sentencias dictadas por los jueces de lo pènal ", 
                    "d. para el conocimiento de los recursos contra las resoluciones de los juzgados de instruccion en juicio de faltas"],
        correcta: 3
    },
{
        pregunta: "42. el presidente del TSJ sera tambien de la sala de lo",
        opciones: [ "a. penal y civil", 
                    "b. contencioso-administrativo", 
                    "c. social ", 
                    "d. militar"],
        correcta: 0
    },
{
        pregunta: "43. es competente para la resolucion de los conflictos de competencia que se susciten entre los juzgados de lo social de una provincia",
        opciones: [ "a. el juez decano ", 
                    "b. la sala de lo social de la AN", 
                    "c. la sala de lo social del TSJ", 
                    "d. la sala de los social del tribunal supremo"],
        correcta: 2
    },
{
        pregunta: "44. de los recursoso  de lo contencioso administrativos contra actos y disposiciones de las comisiones delegadas del gobierno conocera",
        opciones: [ "a. la sala 2 del TS", 
                    "b. la sala especial del TS", 
                    "c. la sala de lo contencioso-administrativo del TS ", 
                    "d. la sala de gobierno del tribunal de cuentas"],
        correcta: 2
    },
{
        pregunta: "45. el presidente del TSJ mientras desempeñe su cargo",
        opciones: [ "a. tendra la categoria de magistrado del TS ", 
                    "b. tendra la consideracion de magistrado del TS", 
                    "c. tendra la consideracion de presidente de sala del TS", 
                    "d. tendra la categoria y consideracion de magistrado del TS"],
        correcta: 1
    },
{
        pregunta: "46. la sala 1 del TS conoce de causas por delito cometidos por magistrados del TC ",
        opciones: [ "a. si ", 
                    "b. no", 
                    "c. si, salvo que sean de pena superior a 3 años ", 
                    "d. no, salvo que derive responsabilidad civil"],
        correcta: 1
    },
{
        pregunta: "47. que sala del supremo conoce de materias contencioso administrativa",
        opciones: [ "a. 4", 
                    "b. 3", 
                    "c. 2", 
                    "d. 1"],
        correcta: 1
    },
{
        pregunta: "48. quien conocera de los recursos que establezca la ley contra resoluciones del tribunal de cuentas",
        opciones: [ "a. la sala de lo contencioso administrativo de la AN", 
                    "b. la sala 4 del TS", 
                    "c. la sala 3 del TS", 
                    "d. ninguna es correcta"],
        correcta: 2
    },
{
        pregunta: "49. del recurso de casacion en materia contencioso administrativo conocera",
        opciones: [ "a. la sala 2 del TS", 
                    "b. la sala contencioso administrativo del TSJ en todo caso", 
                    "c. la sala 5", 
                    "d. la sala de lo contencioso administrativo del TS caundo no esten atribuidas a la sala de lo contencioso administrativo del TSJ por ley"],
        correcta: 3
    },
{
        pregunta: "50. quien conocera de la recusacion de un presidente de una audiencia provincial ",
        opciones: [ "a. una sala del TSJ formada pro el presidente los presidentes de sala y el magistrado mas antiguo y el mas moderno de cada una de ellas", 
                    "b. el tribunal del pleno", 
                    "c. su propia sala ", 
                    "d. ninguna es cierta"],
        correcta: 3
    },


   

];

let preguntaActual = 0;
let aciertos = 0;
let fallos = 0;
let respondido = false;

function cargarPregunta() {
  const p = preguntas[preguntaActual];
  document.getElementById('pregunta').textContent = p.pregunta;

  const contenedorOpciones = document.getElementById('opciones');
  contenedorOpciones.innerHTML = '';

  p.opciones.forEach((texto, index) => {
    const div = document.createElement('div');
    div.className = 'opcion';
    div.textContent = texto;
    div.onclick = () => verificarRespuesta(div, index);
    contenedorOpciones.appendChild(div);
  });

  respondido = false;
}

function verificarRespuesta(elemento, indiceSeleccionado) {
  if (respondido) return;
  respondido = true;

  const p = preguntas[preguntaActual];
  const opciones = document.querySelectorAll('.opcion');

  opciones.forEach((op, i) => {
    if (i === p.correcta) {
      op.classList.add('correcta');
    }
    if (i === indiceSeleccionado && i !== p.correcta) {
      op.classList.add('incorrecta');
    }
  });

  if (indiceSeleccionado === p.correcta) {
    aciertos++;
    document.getElementById('aciertos').textContent = aciertos;
    document.getElementById("manita").textContent = '👍';
    agregarRegistro(`Pregunta ${preguntaActual + 1}: ✅ Acierto`, 'aciertos');
  } else {
    fallos++;
    document.getElementById('fallos').textContent = fallos;
    document.getElementById("manita").textContent = '👎';
    agregarRegistro(`Pregunta ${preguntaActual + 1}: ❌ Fallo`, 'fallos');
  }

  // Avanza a la siguiente pregunta automáticamente
  setTimeout(cargarSiguientePregunta, 1000); // espera 1 segundo
}

function agregarRegistro(texto, clase) {
  const registro = document.getElementById('registro');
  const p = document.createElement('p');
  p.textContent = texto;
  p.className = clase;
  registro.appendChild(p);
}

function cargarSiguientePregunta() {
  if (preguntaActual < preguntas.length - 1) {
    preguntaActual++;
    cargarPregunta();
  } else {
    alert("Fin del test.");
  }
}


// Guarda una pregunta respondida con resultado
function guardarResultado(pregunta, opciones, respuestaCorrecta, tuRespuesta) {
  const resultado = {
    id: resultadosTest.length + 1,
    pregunta,
    opciones,
    respuestaCorrecta,
    tuRespuesta,
    esCorrecta: tuRespuesta === respuestaCorrecta,
    fecha: new Date().toISOString()
  };

  resultadosTest.push(resultado);

  // También lo guardamos en localStorage si estás en navegador
  if (typeof localStorage !== "undefined") {
    localStorage.setItem("resultadosTest", JSON.stringify(resultadosTest));
  }

  console.log(`📌 Resultado guardado: ${resultado.esCorrecta ? '✅ Acierto' : '❌ Fallo'}`);
}
function obtenerResultadosGuardados() {
  if (typeof localStorage !== "undefined") {
    const datos = localStorage.getItem("resultadosTest");
    return datos ? JSON.parse(datos) : [];
  } else {
    return resultadosTest; // Si no hay localStorage (Node.js), usamos memoria
  }
}


// Inicia con la primera pregunta
cargarPregunta();